(this["webpackJsonppacketsss-web"]=this["webpackJsonppacketsss-web"]||[]).push([[0],{193:function(e,t,s){},194:function(e,t,s){},556:function(e,t,s){},559:function(e,t,s){},561:function(e,t,s){},562:function(e,t,s){},563:function(e,t,s){},564:function(e,t,s){},567:function(e,t,s){},568:function(e,t,s){},569:function(e,t,s){},570:function(e,t,s){},574:function(e,t,s){},575:function(e,t,s){},578:function(e,t,s){"use strict";s.r(t);var a=s(602),n=s(37),c=s.n(n),i=s(5),r=s(21),o=s.n(r),l=s(33),d=s(20),u=(s(193),s(7)),j=s(2),p=s.n(j),m=s(71),h=s(171),b=s(98),f=s(597),O=s(598),x=s(596),g=s(599),v=s(600),y=s(601),N=s(47),k=(s(194),s(17)),w=s.n(k),_=s(40),S=s(70),I=s.n(S),C=(s(213),s(164)),P=s.n(C),B=s(165),D=s.n(B),L=s(1),A="https://packetsss-django-backend.herokuapp.com",T="https://static.vecteezy.com/system/resources/previews/002/318/271/non_2x/user-profile-icon-free-vector.jpg",F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"password";return Object(i.a)(Object(i.a)({},e),{},{grant_type:t,client_id:"C1cGDN1IJHXnCzidp9HP6rR7pxxOGh8lztUn6riP"})};function E(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("expires_in"),X.defaults.headers.Authorization=""}function M(e){e.preventDefault()}function q(e){e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")}var U=1500;function R(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function z(){var e=Object(d.f)().pathname;return Object(j.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function Y(e){for(var t="0x",s=e.length,a=0;a<s;a++)t+=e.charCodeAt(a).toString(16);return t}function W(e){return new Promise((function(t){D.a.imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"blob",200,200)}))}function Q(){return Object(L.jsx)(P.a,{style:{position:"relative",zIndex:-999},params:{particles:{color:{value:"#000000"},collisions:{enable:!0},number:{value:300,density:{enable:!0,value_area:2500}},line_linked:{enable:!1,opacity:.03},move:{direction:"none",outMode:"bounce",random:!0,speed:1},size:{random:!0,value:2},opacity:{anim:{enable:!0,speed:1,opacity_min:.05}}},interactivity:{detect_on:"window",events:{onclick:{enable:!0,mode:"push"}},modes:{push:{particles_nb:1}}},retina_detect:!0}})}var H=I.a.create({baseURL:A,timeout:5e3,headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),"Content-Type":"application/json",accept:"application/json"}});var G=!1,J=[],K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;J.forEach((function(s){e?s.reject(e):s.resolve(t)})),J=[]};H.interceptors.response.use((function(e){return e}),function(){var e=Object(_.a)(w.a.mark((function e(t){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.config,"undefined"!==typeof t.response){e.next=4;break}return alert("Backend server probably unavailable right now.\n"+t),e.abrupt("return",Promise.reject(t));case 4:if(401!==t.response.status||s._retry){e.next=10;break}if(!G){e.next=7;break}return e.abrupt("return",new Promise((function(e,t){J.push({resolve:e,reject:t})})).then((function(e){return s.headers.Authorization="Bearer "+e,I()(s)})).catch((function(e){return Promise.reject(e)})));case 7:return s._retry=!0,G=!0,e.abrupt("return",new Promise((function(e,t){var a;null===(a=H.defaults.headers)||void 0===a||delete a.Authorization,H.post("/auth/token/",F({refresh_token:localStorage.getItem("refresh_token")},"refresh_token")).then((function(t){var a,n,c;a=t.data.access_token,n=t.data.refresh_token,c=t.data.expires_in,window.localStorage.setItem("access_token",a),window.localStorage.setItem("refresh_token",n),window.localStorage.setItem("expires_in",Math.ceil(Date.now()/1e3)+c),H.defaults.headers&&(H.defaults.headers.Authorization="Bearer "+localStorage.getItem("access_token")),s.headers.Authorization="Bearer ".concat(localStorage.getItem("access_token")),K(null,localStorage.getItem("access_token")),e(I()(s))})).catch((function(e){K(e,null),t(e)})).finally((function(){G=!1}))})));case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var X=H,V=s(167),Z=s.n(V),$=s(96),ee=s(53),te=s(97),se=s.n(te),ae=s(52);s(556);function ne(){r.store.addNotification({title:"Logout Success!",message:"You have successfully logged out",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}}),E(),setTimeout((function(){window.location.replace("#/"),window.location.reload()}),U)}function ce(){return(ce=Object(_.a)(w.a.mark((function e(t,s){var a,n,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=a.name,e.next=4,W(a);case 4:c=e.sent,(i=new Z.a).append("email",s.email),i.append("username",s.username),i.append("avatar",c,n),X.patch("/user/".concat(s.id,"/"),i,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}}).then((function(e){r.store.addNotification({title:"Profile Picture Update Success!",message:"You have successfully updated your avatar",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})})).catch((function(e){console.log(e.response),r.store.addNotification({title:"Profile Picture Update Failed!",message:e.response,type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})})).finally((function(){setTimeout((function(){return window.location.reload()}),U)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){var e=Object(L.jsx)(ae.a,{icon:ee.a}),t=Object(L.jsx)(ae.a,{icon:ee.b}),s=Object(j.useState)(!1),a=Object(u.a)(s,2),n=a[0],c=a[1];Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||(window.location.replace("#/login"),window.location.reload())})),Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&X.get("/user/").then((function(e){d(e.data[0])}))}),[]);var i=Object(j.useState)(),o=Object(u.a)(i,2),l=o[0],d=o[1],p=Object(j.useState)(),m=Object(u.a)(p,2),h=m[0],b=m[1],f=Object(j.useState)(0),O=Object(u.a)(f,2),g=O[0],v=O[1];return Object(L.jsxs)(x.a,{children:[Object(L.jsx)(Q,{}),Object(L.jsx)(x.a,{className:"settings",children:Object(L.jsxs)("div",{className:"settingsWrapper",children:[Object(L.jsx)("div",{className:"settingsTitle",children:Object(L.jsx)("span",{className:"settingsTitleUpdate",children:"Update Your Account"})}),Object(L.jsxs)("form",{className:"settingsForm",onSubmit:function(e){var t,s;M(e),g>1?(t=l,s=h,console.log(t,s),X.patch("/user/".concat(t.id,"/"),{password:s}).then((function(e){r.store.addNotification({title:"Profile Update Success!",message:"You have successfully updated your profile",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})})).catch((function(e){console.log(e)})).finally((function(){setTimeout((function(){return window.location.reload()}),U)}))):r.store.addNotification({title:"Password Update Failed!",message:"The password is too weak",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:750,onScreen:!0}})},children:[Object(L.jsxs)("div",{className:"settingsPP",children:[l?Object(L.jsx)("img",{src:l.avatar?l.avatar:T,alt:""}):null,Object(L.jsxs)("label",{children:[Object(L.jsx)("input",{accept:"image/png, image/gif, image/jpeg",style:{display:"none"},multiple:!0,type:"file",onChange:function(e){!function(e,t){ce.apply(this,arguments)}(e,l)}}),Object(L.jsx)("i",{className:"settingsPPIcon far fa-user-circle"})]}),Object(L.jsx)("input",{id:"fileInput",type:"file",style:{display:"none"},className:"settingsPPInput"})]}),Object(L.jsx)("span",{className:"settingsDescribeField",children:"Username"}),Object(L.jsx)("span",{className:"settingsFixedField",children:l?l.username:null}),Object(L.jsx)("span",{className:"settingsDescribeField",children:"Email"}),Object(L.jsx)("span",{className:"settingsFixedField",children:l?l.email:null}),Object(L.jsx)("span",{className:"settingsDescribeField",children:"Password"}),Object(L.jsxs)("div",{className:"passwordWrapper",children:[Object(L.jsx)("input",{placeholder:"Password",type:n?"text":"password",name:"password",onChange:function(e){b(e.target.value)}}),Object(L.jsx)("i",{style:{color:n?"#000000":"#7a7a7a"},onClick:function(){c(!n)},children:n?e:t})]}),Object(L.jsx)(se.a,{className:"settingsPasswordStrengthBar",scoreWordStyle:{textAlign:"left",paddingLeft:"5px"},password:h,minLength:8,shortScoreWord:"weak",onChangeScore:function(e){return v(e)}}),Object(L.jsx)("button",{className:"btn btn-secondary settingsSubmitButton",type:"submit",children:"Change Password"}),Object(L.jsx)("button",{className:"btn btn-warning settingsLogoutButton",onClick:ne,type:"button",children:"Logout"}),Object(L.jsx)("button",{className:"btn settingsDeleteAccountButton",onClick:function(){!function(e){Object($.confirmAlert)({title:"Confirm to delete",message:"Are you sure to delete you account? (WARNING: THIS ACTION IS NOT RECOVERABLE!)",buttons:[{label:"Yes",onClick:function(){X.delete("/user/".concat(e.id,"/")).then((function(e){E(),window.location.replace("#/login"),window.location.reload()}))}},{label:"No",onClick:function(){return null}}]})}(l)},type:"button",children:"Delete Account"})]})]})})]})}function re(e){if(!localStorage.getItem("refresh_token"))return Object(L.jsx)(b.a,{href:"#/login",className:"fork-btn-inner",children:Object(L.jsx)(f.a,{children:Object(L.jsx)(O.a,{children:"Login Here"})})});var t=p.a.forwardRef((function(t,s){var a=t.onClick;t.value;return Object(L.jsx)("a",{href:"google.com",ref:s,onClick:function(e){e.preventDefault(),a(e)},children:e?Object(L.jsx)("div",{className:"settings-icon",children:Object(L.jsx)("img",{className:"settings-icon-avatar",src:e.avatar?e.avatar:"https://static.vecteezy.com/system/resources/previews/002/318/271/non_2x/user-profile-icon-free-vector.jpg",alt:"avatar"})}):Object(L.jsx)("div",{})})})),s=p.a.forwardRef((function(t,s){t.onClick,t.value;return e?Object(L.jsxs)(x.a,{className:"dropdownIcon",children:[Object(L.jsx)("img",{className:"dropdownIconAvatar",src:e.avatar?e.avatar:T,alt:"avatar"}),Object(L.jsx)("br",{}),Object(L.jsx)("label",{className:"dropdownUser",children:e.username})]}):Object(L.jsx)("div",{})}));return Object(L.jsx)("div",{className:"loginDetectDiv",children:Object(L.jsxs)(g.a,{className:"profileDropdown",children:[Object(L.jsx)(g.a.Toggle,{as:t}),Object(L.jsxs)(g.a.Menu,{className:"profileDropdownMenu",children:[Object(L.jsx)(g.a.Item,{as:s}),Object(L.jsx)(g.a.Item,{href:"#/chat",children:"Messages"}),Object(L.jsx)(g.a.Item,{href:"#/settings",children:"Settings"}),Object(L.jsx)(g.a.Divider,{}),Object(L.jsx)(g.a.Item,{className:"profileDropdownMenuLogout",onClick:ne,children:"Logout"})]})]})})}function oe(){var e="Token ".concat(document.cookie.split("=")[1]);Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&X.get("/user/").then((function(e){f(e.data[0])})).catch((function(e){console.log(e.response)}))}),[e]);var t=Object(j.useState)(!1),s=Object(u.a)(t,2),a=s[0],n=s[1],c=Object(j.useState)(!1),i=Object(u.a)(c,2),r=i[0],o=i[1],d=Object(j.useState)(),p=Object(u.a)(d,2),b=p[0],f=p[1];return window.addEventListener("scroll",(function(){window.scrollY>=20?o(!0):o(!1)})),Object(L.jsx)("div",{className:"top",children:Object(L.jsx)(v.a,{expanded:a,fixed:"top",expand:"md",className:r?"sticky":"navbar",children:Object(L.jsxs)(x.a,{children:[Object(L.jsx)(v.a.Toggle,{"aria-controls":"responsive-navbar-nav",onClick:function(){n(!a)}}),Object(L.jsxs)("div",{className:"top-clickable",children:[Object(L.jsx)("a",{"aria-label":"link",href:"https://github.com/packetsss",target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)("i",{className:"topIcon fab fa-github-square"})}),Object(L.jsx)("a",{"aria-label":"link",href:"https://www.linkedin.com/in/paul-pan001/",target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)("i",{className:"topIcon fab fa-linkedin"})}),Object(L.jsx)("a",{"aria-label":"link",href:"https://www.facebook.com/paul.pan.94849/",target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)("i",{className:"topIcon fab fa-facebook-square"})}),Object(L.jsx)("a",{"aria-label":"link",href:"https://twitter.com/pyj2001",target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)("i",{className:"topIcon fab fa-twitter-square"})}),Object(L.jsx)("a",{"aria-label":"link",href:"https://www.instagram.com/_popaz/",target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)("i",{className:"topIcon fab fa-instagram-square"})})]}),Object(L.jsx)(v.a.Collapse,{id:"responsive-navbar-nav",children:Object(L.jsxs)(y.a,{defaultActiveKey:"#home",className:"navbar-items",children:[Object(L.jsx)(y.a.Item,{children:Object(L.jsxs)(y.a.Link,{as:l.b,to:"/",onClick:function(){return n(!1)},children:[Object(L.jsx)(N.f,{style:{marginBottom:"2px"}})," ","HOME"]})}),Object(L.jsx)(y.a.Item,{children:Object(L.jsxs)(y.a.Link,{as:l.b,to:"/about",onClick:function(){return n(!1)},children:[Object(L.jsx)(N.h,{style:{marginBottom:"2px"}})," ","ABOUT"]})}),Object(L.jsx)(y.a.Item,{children:Object(L.jsxs)(y.a.Link,{as:l.b,to:"/projects",onClick:function(){return n(!1)},children:[Object(L.jsx)(N.e,{style:{marginBottom:"2px"}})," ","PROJECTS"]})}),Object(L.jsx)(y.a.Item,{children:Object(L.jsxs)(y.a.Link,{as:l.b,to:"/posts",onClick:function(){return n(!1)},children:[Object(L.jsx)(h.a,{style:{marginBottom:"2px"}})," ","POSTS"]})}),Object(L.jsx)(y.a.Item,{children:Object(L.jsxs)(y.a.Link,{as:l.b,to:"/write",onClick:function(){return n(!1)},children:[Object(L.jsx)(m.a,{style:{marginBottom:"2px"}})," ","WRITE"]})})]})}),Object(L.jsx)(y.a.Item,{className:"fork-btn",children:Object(L.jsx)("div",{children:re(b)})})]})})})}s(559);var le=s(172),de=s.n(le);function ue(){return Object(L.jsx)(de.a,{options:{strings:["Machine Learning Enthusiast","Web Developer","Banana Eater","Open Source Contributor","Game Developer"],autoStart:!0,loop:!0,deleteSpeed:50}})}function je(){return Object(L.jsx)(x.a,{fluid:!0,className:"home",children:Object(L.jsxs)(x.a,{children:[Object(L.jsx)(Q,{}),Object(L.jsxs)("div",{className:"homeTitles",children:[Object(L.jsx)("span",{className:"homeTitleLarge",children:"Hi there, I am Paul Pan"}),Object(L.jsx)("span",{className:"homeTitleSmall",children:Object(L.jsx)(ue,{})})]})]})})}s(560),s(561);function pe(){return(pe=Object(_.a)(w.a.mark((function e(t,s){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(s),X.put("/api/posts/".concat(t,"/"),s).then((function(e){r.store.addNotification({title:"Edit Success!",message:"You've successfully updated your post",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t,s,a,n){return e?Object(L.jsx)("textarea",{required:!0,id:"".concat(a),className:"singleEdit form-control z-depth-1",onChange:function(e){t(e),q(e)},defaultValue:s,rows:s.length/n,maxLength:a,placeholder:"Please enter something at least..."}):s}function he(e,t,s,a){return(t||s)&&(a.title=t?t.target.value:a.title,a.content=s?s.target.value:a.content,function(e,t){pe.apply(this,arguments)}(e,a)),[a.title,a.content]}function be(e){Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||window.location.replace("#/login"),X.get("/user/").then((function(e){v(e.data[0])})).catch((function(e){return console.log(e)})),X.get("/api/posts/".concat(e.match.params.id)).then((function(e){w(e.data)})).catch((function(e){return console.log(e)}))}),[e.match.params.id]);var t=Object(j.useState)(!1),s=Object(u.a)(t,2),a=s[0],n=s[1],c=Object(j.useState)(),i=Object(u.a)(c,2),r=i[0],o=i[1],l=Object(j.useState)(),d=Object(u.a)(l,2),p=d[0],m=d[1],h=Object(j.useState)(),b=Object(u.a)(h,2),g=b[0],v=b[1],y=Object(j.useState)(),N=Object(u.a)(y,2),k=N[0],w=N[1];return k&&g?Object(L.jsxs)(x.a,{fluid:!0,className:"single",children:[Object(L.jsx)(Q,{}),Object(L.jsxs)(x.a,{className:"singlePostWrapper",children:[Object(L.jsx)(f.a,{children:Object(L.jsx)("img",{className:"singlePostImg",src:"https://picsum.photos/1400/400",alt:"post cover"})}),Object(L.jsxs)("form",{onSubmit:function(t){M(t),n(!a);var s=he(e.match.params.id,r,p,k),c=Object(u.a)(s,2);k.title=c[0],k.content=c[1]},children:[Object(L.jsxs)(f.a,{className:"singlePostTitle",children:[Object(L.jsx)(O.a,{}),Object(L.jsx)(O.a,{className:"col-md-8",children:me(a,o,k.title,100,30)}),g.id===k.author?Object(L.jsx)(O.a,{className:"singlePostEdit",children:a?Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{"aria-label":"btn",type:"submit",className:"singlePostIcon far fa-check-square"}),Object(L.jsx)("i",{className:"singlePostIcon far fa-window-close",onClick:function(){return n(!a)}})]}):Object(L.jsxs)("div",{children:[Object(L.jsx)("i",{className:"singlePostIcon far fa-edit",onClick:function(){return n(!a)}}),Object(L.jsx)("i",{className:"singlePostIcon far fa-trash-alt",onClick:function(){return function(e){Object($.confirmAlert)({title:"Confirm to delete",message:"Are you sure to delete this post?",buttons:[{label:"Yes",onClick:function(){X.delete("/api/posts/".concat(e.match.params.id,"/")).then((function(e){window.location.replace("#/posts"),window.location.reload()}))}},{label:"No",onClick:function(){return null}}]})}(e)}})]})}):Object(L.jsx)(O.a,{})]}),Object(L.jsxs)(O.a,{className:"singlePostInfo",children:[Object(L.jsxs)(f.a,{className:"singlePostAuthor",children:["Author:\xa0",Object(L.jsx)("b",{children:k.author_name})]}),Object(L.jsx)(f.a,{className:"singlePostDate",children:R(k.date)})]}),Object(L.jsx)(O.a,{children:Object(L.jsxs)("p",{className:"singlePostDesc",children:["\u2003",me(a,m,k.content,777,80)]})})]})]})]}):Object(L.jsx)("div",{})}s(562);function fe(){var e=Object(j.useState)(),t=Object(u.a)(e,2),s=t[0],a=t[1],n=Object(j.useState)(),c=Object(u.a)(n,2),i=c[0],o=c[1],l=Object(j.useState)(),d=Object(u.a)(l,2),p=d[0],m=d[1],h=Object(j.useState)(-1),b=Object(u.a)(h,2),f=b[0],O=b[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||(window.location.replace("#/login"),window.location.reload()),-1!==f&&setTimeout((function(){window.location.replace("#/post/".concat(f))}),U),X.get("user/").then((function(e){a(e.data[0])})).catch((function(e){return console.log(e)}))}),[f]),s?Object(L.jsxs)(x.a,{className:"write",children:[Object(L.jsx)(Q,{}),Object(L.jsx)("img",{className:"writeImg",src:"https://picsum.photos/1200/400",alt:""}),Object(L.jsxs)("form",{className:"writeForm",onSubmit:function(e){var t;M(e),t={title:i.target.value,content:p.target.value,author:s.id,author_name:s.username},console.log(t),X.post("/api/posts/",t).then((function(e){r.store.addNotification({title:"Publish Success!",message:"Congratulations on completing this post",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}}),O(e.data.id)})).catch((function(e){r.store.addNotification({title:"Publish Success!",message:"Congratulations on completing this post",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})}))},children:[Object(L.jsxs)("div",{className:"writeFormGroup",children:[Object(L.jsx)("label",{htmlFor:"fileInput",children:Object(L.jsx)("i",{className:"writeIcon fas fa-plus"})}),Object(L.jsx)("input",{"aria-label":"input1",id:"fileInput",type:"file"}),Object(L.jsx)("input",{required:!0,className:"writeInput",placeholder:"Title",type:"text",autoFocus:!0,onChange:o,maxLength:100})]}),Object(L.jsx)("div",{className:"writeFormGroup",children:Object(L.jsx)("textarea",{required:!0,className:"writeInput writeText",placeholder:"Tell your story...",autoFocus:!0,onChange:m,maxLength:777})}),Object(L.jsx)("button",{className:"writeSubmit",type:"submit",children:"Publish"})]})]}):Object(L.jsx)("div",{})}s(563);var Oe=s(54),xe=s(173);function ge(e){return Object(L.jsxs)(Oe.a,{className:"project-card-view",children:[Object(L.jsx)(Oe.a.Img,{variant:"top",src:e.imgPath,alt:"card-img"}),Object(L.jsxs)(Oe.a.Body,{children:[Object(L.jsx)(Oe.a.Title,{children:e.title}),Object(L.jsx)(Oe.a.Text,{style:{textAlign:"justify",fontFamily:"Varela Round",fontSize:"15px"},children:e.description}),Object(L.jsx)("br",{}),Object(L.jsxs)(b.a,{variant:"primary",href:e.link?e.link:e.clickAble?e.clickAble.link:"",target:"_blank",style:{position:"absolute",bottom:12},children:[Object(L.jsx)(xe.a,{})," \xa0",e.link?e.isBlog?"View Blog":"View Project":e.clickAble?e.clickAble.text:""]})]})]})}var ve=s.p+"static/media/pool_kick.1dda2452.gif",ye=s.p+"static/media/pool_solver.2e12cba6.gif",Ne=s.p+"static/media/chatbot.8e9e433d.jpg",ke=s.p+"static/media/image_editor.3eb63aae.gif",we=s.p+"static/media/sudoku.08887751.gif";function _e(){return Object(L.jsxs)(x.a,{fluid:!0,className:"project-section",children:[Object(L.jsx)(Q,{}),Object(L.jsxs)(x.a,{children:[Object(L.jsxs)("h1",{className:"project-heading",children:["My Recent ",Object(L.jsx)("strong",{className:"purple",children:"Works "})]}),Object(L.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"10px"},children:[Object(L.jsx)(O.a,{md:4,className:"project-card",children:Object(L.jsx)(ge,{imgPath:ye,isBlog:!1,title:"Pool Game Solver",description:"A realistic pool game simulator built using pygame and pymunk with extra support for reinforcement learning model training. The genetic algorithm (GA) was implemented to solve the pool game environment.",link:"https://github.com/packetsss/youtube-projects/tree/main/pool-game"})}),Object(L.jsx)(O.a,{md:4,className:"project-card",children:Object(L.jsx)(ge,{imgPath:Ne,isBlog:!1,title:"Discord Bot",description:"A Chat bot deployed in Packetsss's discord server that is capable of doing conversation, translation, summarization , text generation, image classification, image generation and etc. Created using discord.py and pre-trained transformer models.\xa0\xa0",clickAble:{text:"Join Here",link:"https://discord.gg/nDKKffMMjB"}})}),Object(L.jsx)(O.a,{md:4,className:"project-card",children:Object(L.jsx)(ge,{imgPath:ve,isBlog:!1,title:"AI Pool Assist",description:"An AI using computer vision and object detection as table and billiard ball locator, and visualizing aiming path for pool cue and balls. A search algorithm is implemented to find the best shot for the current player.",link:"https://github.com/packetsss/pool-player"})}),Object(L.jsx)(O.a,{md:4,className:"project-card",children:Object(L.jsx)(ge,{imgPath:ke,isBlog:!1,title:"Image Editor",description:"A Image Editor that provides useful editing features such as crop, rotate, change brightness, auto sharpen, auto bypass censorship, face detection, and etc.",link:"https://github.com/packetsss/Image-Editor"})}),Object(L.jsx)(O.a,{md:4,className:"project-card",children:Object(L.jsx)(ge,{imgPath:we,isBlog:!1,title:"Sudoku Solver",description:"A Sudoku Solver using back tracking and additional optimizations that solves any Sudoku puzzles in 2 seconds. A GUI is also implemented as a ease of use.",link:"https://github.com/packetsss/Sudoku-Solver"})})]})]})]})}s(564);function Se(e){var t,s,a=(t=200,s=800,Math.floor(Math.random()*(s-t)+t));return e.post?Object(L.jsxs)("div",{className:"post",children:[Object(L.jsxs)(l.b,{to:"/post/".concat(e.post.id),style:{textDecoration:"none",color:"black"},children:[Object(L.jsx)("img",{className:"postImg",src:"https://picsum.photos/".concat(a),alt:""}),Object(L.jsxs)("div",{className:"postInfo",children:[Object(L.jsx)("div",{className:"postCategories"}),Object(L.jsx)("span",{className:"postTitle",children:e.post.title.length<18?e.post.title:e.post.title.slice(0,18)+"..."}),Object(L.jsx)("span",{className:"postDate",children:R(e.post.date)})]})]}),Object(L.jsx)("p",{className:"postDesc",children:e.post.content.length<30?e.post.content:e.post.content.slice(0,30)})]}):null}function Ie(e){try{return e.map((function(e){return Object(L.jsx)(O.a,{children:Object(L.jsx)(Se,{post:e})},e.id)}))}catch(t){return E()}}function Ce(){var e=Object(j.useState)([]),t=Object(u.a)(e,2),s=t[0],a=t[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||(window.location.replace("#/login"),window.location.reload()),X.get("/api/posts/").then((function(e){a(e.data)})).catch((function(e){return console.log(e)}))}),[]),s?Object(L.jsxs)(x.a,{className:"posts",children:[Object(L.jsx)(Q,{}),Ie(s)]}):Object(L.jsx)(x.a,{})}s(565),s(566),s(567);var Pe=I.a.create({baseURL:A,timeout:5e3,headers:{"Content-Type":"application/json",accept:"application/json"}});function Be(){return(Be=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pe.post("/auth/token/",F(t)).then((function(e){r.store.addNotification({title:"Login Success!",message:"Welcome",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}}),window.localStorage.setItem("access_token",e.data.access_token),window.localStorage.setItem("refresh_token",e.data.refresh_token),window.localStorage.setItem("expires_in",Math.ceil(Date.now()/1e3)+e.data.expires_in),setTimeout((function(){window.location.replace("#/posts"),window.location.reload()}),U)})).catch((function(e){r.store.addNotification({title:"Login Failed!",message:"Please check your username and password and try again",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){var e=Object(L.jsx)(ae.a,{icon:ee.a}),t=Object(L.jsx)(ae.a,{icon:ee.b}),s=Object(j.useState)(""),a=Object(u.a)(s,2),n=a[0],c=a[1],i=Object(j.useState)(""),r=Object(u.a)(i,2),o=r[0],d=r[1],p=Object(j.useState)(!1),m=Object(u.a)(p,2),h=m[0],b=m[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&window.location.replace("#/posts")}),[]),Object(L.jsxs)("div",{children:[Object(L.jsx)(Q,{}),Object(L.jsxs)("div",{className:"login",children:[Object(L.jsx)("span",{className:"loginTitle",children:"Login"}),Object(L.jsxs)("form",{className:"loginForm",onSubmit:function(e){M(e),function(e){Be.apply(this,arguments)}({username:n,password:o})},children:[Object(L.jsx)("label",{children:"Username"}),Object(L.jsx)("input",{required:!0,className:"loginInput",type:"text",placeholder:"Enter your username...",value:n,onChange:function(e){return c(e.target.value)}}),Object(L.jsx)("label",{children:"Password"}),Object(L.jsxs)("div",{children:[Object(L.jsx)("input",{required:!0,className:"loginInput",type:h?"text":"password",placeholder:"Enter your password...",value:o,onChange:function(e){return d(e.target.value)}}),Object(L.jsx)("i",{className:"eye",style:{color:h?"#000000":"#7a7a7a"},onClick:function(){b(!h)},children:h?e:t})]}),Object(L.jsx)("button",{type:"submit",className:"loginButton",children:"Login"})]}),Object(L.jsxs)("div",{style:{marginTop:"5px",fontSize:14,zIndex:0},children:["Don't have an account? ",Object(L.jsx)(l.b,{to:"/register",children:"Sign Up"})]})]})]})}s(568);var Le=s(177),Ae=s(63),Te=s(106);function Fe(){return Object(L.jsx)(Oe.a,{className:"quote-card-view",children:Object(L.jsx)(Oe.a.Body,{children:Object(L.jsxs)("blockquote",{className:"blockquote mb-0",children:[Object(L.jsxs)("p",{style:{textAlign:"justify"},children:["A student at UC San Diego who love Machine Learning and always looking forward to learn new stuff.",Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),"Apart from coding, these are some other activities I enjoys doing!"]}),Object(L.jsxs)("ul",{children:[Object(L.jsxs)("li",{className:"about-activity",children:[Object(L.jsx)(m.b,{})," Eating bananas"]}),Object(L.jsxs)("li",{className:"about-activity",children:[Object(L.jsx)(m.b,{})," Eating more bananas"]}),Object(L.jsxs)("li",{className:"about-activity",children:[Object(L.jsx)(m.b,{})," Eating even more bananas"]})]}),Object(L.jsx)("p",{style:{marginBlockEnd:0,color:"#be9656"},children:'"I also eat code. Beep. Beep"'}),Object(L.jsx)("footer",{className:"blockquote-footer",children:Object(L.jsx)("i",{style:{color:"#be9656"},children:"Packetsss"})}),Object(L.jsx)(Ue,{})]})})})}function Ee(){return Object(L.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"50px"},children:[Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Te.b,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Te.a,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Te.c,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:numpy"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:pandas"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Ae.c,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Ae.d,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:opencv"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:openaigym"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:numba"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:qt"})})]})}function Me(){return Object(L.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"10px"},children:[Object(L.jsxs)("h1",{className:"project-heading",style:{paddingBottom:"20px"},children:["Total ",Object(L.jsx)("strong",{className:"purple",children:"Contributions"})]}),Object(L.jsx)(Le.a,{username:"packetsss",blockSize:20,blockMargin:3,theme:{background:"transparent",text:"#ffffff",level4:"#875503",level3:"#b07515",level2:"#dea549",level1:"#ffcd7d",level0:"#fff5e6"},fontSize:16})]})}function qe(){return Object(L.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"50px"},children:[Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Ae.b,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Ae.e,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)(Ae.a,{})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:git"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:docker"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:mysql"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:postman"})}),Object(L.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(L.jsx)("span",{className:"iconify","data-icon":"simple-icons:heroku"})})]})}function Ue(){var e=Object(j.useState)(0),t=Object(u.a)(e,2),s=t[0],a=t[1],n=Object(j.useState)("lol"),c=Object(u.a)(n,2),i=c[0],r=c[1];return Object(L.jsx)("div",{children:Object(L.jsx)("button",{onClick:function(){a(s+1),r(i+"ol")},className:"btn btn-success",children:0===s?i:"".concat(i," x ").concat(s)})})}var Re=s.p+"static/media/my_pic_2.22a009c7.gif";var ze=function(){return Object(L.jsxs)(x.a,{fluid:!0,className:"about-section",children:[Object(L.jsx)(Q,{}),Object(L.jsxs)(x.a,{children:[Object(L.jsxs)(f.a,{style:{justifyContent:"center",padding:"10px"},children:[Object(L.jsxs)(O.a,{md:7,style:{justifyContent:"center",paddingTop:"30px"},children:[Object(L.jsxs)("h1",{className:"headingOne",children:["Knowing Who ",Object(L.jsx)("strong",{className:"purple",children:"I AM"})]}),Object(L.jsx)(Fe,{})]}),Object(L.jsx)(O.a,{md:5,style:{paddingTop:"120px",paddingBottom:"50px"},className:"about-img",children:Object(L.jsx)("img",{src:Re,alt:"about",width:"300",className:"tech-icons"})})]}),Object(L.jsxs)("h1",{className:"project-heading",children:["Professional ",Object(L.jsx)("strong",{className:"purple",children:"Skillset "})]}),Object(L.jsx)(Ee,{}),Object(L.jsxs)("h1",{className:"project-heading",children:["Development ",Object(L.jsx)("strong",{className:"purple",children:"Tools"})]}),Object(L.jsx)(qe,{}),Object(L.jsx)(Me,{})]})]})};s(569);function Ye(){return(Ye=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pe.post("/user/",t).then((function(e){r.store.addNotification({title:"Register Success!",message:"Welcome",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}}),setTimeout((function(){window.location.replace("#/login")}),U)})).catch((function(e){r.store.addNotification({title:"Register Failed!",message:"The username/email is not available",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){var e=Object(j.useState)(""),t=Object(u.a)(e,2),s=t[0],a=t[1],n=Object(j.useState)(""),c=Object(u.a)(n,2),i=c[0],o=c[1],d=Object(j.useState)(""),p=Object(u.a)(d,2),m=p[0],h=p[1],b=Object(j.useState)(0),f=Object(u.a)(b,2),O=f[0],x=f[1],g=Object(L.jsx)(ae.a,{icon:ee.a}),v=Object(L.jsx)(ae.a,{icon:ee.b}),y=Object(j.useState)(!1),N=Object(u.a)(y,2),k=N[0],w=N[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&window.location.replace("#/posts")}),[]),Object(L.jsxs)("div",{children:[Object(L.jsx)(Q,{}),Object(L.jsxs)("div",{className:"register",children:[Object(L.jsx)("span",{className:"registerTitle",children:"Register"}),Object(L.jsxs)("form",{className:"registerForm",onSubmit:function(e){O>1?(M(e),function(e){Ye.apply(this,arguments)}({username:s,email:i,password:m})):r.store.addNotification({title:"Register Failed!",message:"The password is too weak",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:U,onScreen:!0}})},children:[Object(L.jsx)("label",{children:"*Username"}),Object(L.jsx)("input",{required:!0,className:"registerInput",type:"text",placeholder:"Enter your username...",value:s,onChange:function(e){return a(e.target.value)}}),Object(L.jsx)("label",{children:"*Email"}),Object(L.jsx)("input",{required:!0,type:"email",className:"registerInput",placeholder:"Enter your email...",value:i,onChange:function(e){return o(e.target.value)}}),Object(L.jsx)("label",{children:"*Password"}),Object(L.jsxs)("div",{children:[Object(L.jsx)("input",{required:!0,className:"registerInput",type:k?"text":"password",placeholder:"Enter your password...",value:m,onChange:function(e){return h(e.target.value)}}),Object(L.jsx)("i",{className:"eye",style:{color:k?"#000000":"#7a7a7a"},onClick:function(){w(!k)},children:k?g:v})]}),Object(L.jsx)(se.a,{scoreWordStyle:{textAlign:"left",paddingLeft:"5px"},password:m,minLength:8,shortScoreWord:"weak",onChangeScore:function(e){return x(e)}}),Object(L.jsx)("button",{className:"registerButton",type:"submit",children:"Register"})]}),Object(L.jsxs)("div",{style:{marginTop:"5px",fontSize:14,zIndex:0},children:["Already have an account? ",Object(L.jsx)(l.b,{to:"/login",children:"Login"})]})]})]})}s(570);function Qe(){var e=(new Date).getFullYear();return Object(L.jsx)(x.a,{fluid:!0,className:"footer",children:Object(L.jsxs)(f.a,{children:[Object(L.jsx)(O.a,{md:"4",className:"footer-copyright",children:Object(L.jsx)("h3",{children:"Designed and Developed by Paul Pan"})}),Object(L.jsx)(O.a,{md:"4",className:"footer-copyright",children:Object(L.jsxs)("h3",{children:["Copyright \xa9 ",e," Packetsss"]})}),Object(L.jsx)(O.a,{md:"4",className:"footer-body",children:Object(L.jsxs)("ul",{className:"footer-icons",children:[Object(L.jsx)("li",{className:"social-icons",children:Object(L.jsx)("a",{"aria-label":"link",href:"https://github.com/packetsss",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)(N.b,{})})}),Object(L.jsx)("li",{className:"social-icons",children:Object(L.jsx)("a",{"aria-label":"link",href:"https://www.linkedin.com/in/paul-pan001/",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)(N.d,{})})}),Object(L.jsx)("li",{className:"social-icons",children:Object(L.jsx)("a",{"aria-label":"link",href:"https://www.facebook.com/paul.pan.94849/",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)(N.a,{})})}),Object(L.jsx)("li",{className:"social-icons",children:Object(L.jsx)("a",{"aria-label":"link",href:"https://twitter.com/pyj2001",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)(N.g,{})})}),Object(L.jsx)("li",{className:"social-icons",children:Object(L.jsx)("a",{"aria-label":"link",href:"https://www.instagram.com/_popaz/",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(L.jsx)(N.c,{})})})]})})]})})}var He=s(38),Ge=s(27),Je=s(28),Ke=s(30),Xe=s(29),Ve=s(124),Ze=(s(574),s(174)),$e=s(175),et=s.n($e),tt=s(176),st=s.n(tt);s(575);function at(e){var t=e.placeholder,s=e.data,a=e.onFilteredUsers,n=Object(j.useState)(""),c=Object(u.a)(n,2),i=c[0],r=c[1];return Object(L.jsx)("div",{className:"search",children:Object(L.jsxs)("div",{className:"searchInputs",children:[Object(L.jsx)("input",{type:"text",placeholder:t,value:i,onChange:function(e){var t=e.target.value;r(t);var n=s.filter((function(e){return e.username.toLowerCase().includes(t.toLowerCase())}));0===i.length&&""===t?a([],!0):a(n,!1)}}),Object(L.jsx)("div",{className:"searchIcon",children:0===i.length?Object(L.jsx)(et.a,{}):Object(L.jsx)(st.a,{id:"clearBtn",onClick:function(){r(""),a([],!0)}})})]})})}var nt=function(e,t,s,a){return t?Object(L.jsx)("div",{className:"userButtons",onClick:function(){return null},children:Object(L.jsx)("label",{className:"text",children:"Friends"})}):s?Object(L.jsx)("div",{className:"userButtons",onClick:function(){return e.acceptFriendRequest(s.id)},children:Object(L.jsx)("label",{className:"text",children:"Accept Request"})}):a?Object(L.jsx)("div",{className:"userButtons addButton",onClick:function(){return e.addFriend(e.user.username)},children:Object(L.jsx)("label",{className:"text",children:"Request Sent"})}):Object(L.jsx)("div",{className:"userButtons addButton",onClick:function(){return e.addFriend(e.user.username)},children:Object(L.jsx)("label",{className:"text",children:"Add Friend"})})},ct=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){return Object(Ge.a)(this,s),t.apply(this,arguments)}return Object(Je.a)(s,[{key:"render",value:function(){var e=this,t=void 0!==this.props.requestSentList.filter((function(t){return t.to_user===e.props.user.username}))[0],s=this.props.friendRequestList.filter((function(t){return t.from_user===e.props.user.username}))[0],a=void 0!==this.props.friendsList.filter((function(t){return t.username===e.props.user.username}))[0];return Object(L.jsxs)("div",{className:"allUser",children:[Object(L.jsx)("div",{className:"avatar-div",children:Object(L.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:T,alt:"avatar"})}),Object(L.jsx)("div",{className:"username",children:this.props.user.username}),Object(L.jsx)("span",{className:"my-spacer"}),Object(L.jsx)("div",{className:"userButtons blockButton",onClick:function(){return e.props.blockUser(e.props.user.username)},children:Object(L.jsx)("label",{className:"text",children:"Block"})}),nt(this.props,a,s,t)]})}}]),s}(p.a.Component),it=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){var e;Object(Ge.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).click=function(){e.props.onClick(e.props.id)},e}return Object(Je.a)(s,[{key:"render",value:function(){return Object(L.jsxs)("div",{className:"friend-item",onClick:this.click,children:[Object(L.jsx)("div",{className:"avatar-div",children:Object(L.jsx)("img",{src:this.props.avatar?this.props.avatar:T,alt:"avatar"})}),Object(L.jsx)("div",{className:"friend-panel-name",children:this.props.name})]})}}]),s}(p.a.Component),rt=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){var e;Object(Ge.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={userList:[],filteredUserList:[],friendRequestList:[],requestSentList:[],popupOpened:!1,emptySearch:!0},e.handleClick=function(t){e.props.onSelectFriend(t)},e.handleManage=function(t){e.props.onManageFriend()},e.addFriend=function(e){X.post("/friends/add_friend/",{to_user:e,message:"Friend Request"}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))},e.acceptFriendRequest=function(e){X.post("/friends/accept_request/",{id:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))},e.blockUser=function(){console.log("Block user")},e.onFilteredUsers=function(t,s){e.setState({filteredUserList:t,emptySearch:s})},e}return Object(Je.a)(s,[{key:"componentDidMount",value:function(){var e=this;X.get("/user/",{params:{listAll:!0}}).then((function(t){e.setState({userList:t.data})})).catch((function(e){console.log(e.response)})),X.get("/friends/requests/").then((function(t){e.setState({friendRequestList:t.data})})).catch((function(e){console.log(e.response)})),X.get("/friends/sent_requests/").then((function(t){e.setState({requestSentList:t.data})})).catch((function(e){console.log(e.response)}))}},{key:"componentDidUpdate",value:function(e,t){t.popupOpened!==this.state.popupOpened&&this.props.onManageFriend()}},{key:"render",value:function(){var e,t=this,s=Object(L.jsx)("div",{className:"no-content-message",children:"There is no friends to show"});this.props.friends&&this.props.friends.map&&(s=this.props.friends.map((function(e){return Object(L.jsx)(it,{id:e.id,name:e.username,avatar:e.avatar,onClick:t.handleClick},e.id)})));var a=this.state.userList;return(this.state.filteredUserList.length>0||!this.state.emptySearch)&&(a=this.state.filteredUserList),e=a.map((function(e){return e.username!==t.props.currentUser.username?Object(L.jsx)(ct,{user:e,addFriend:t.addFriend,blockUser:t.blockUser,friendsList:t.props.friends,acceptFriendRequest:t.acceptFriendRequest,requestSentList:t.state.requestSentList,friendRequestList:t.state.friendRequestList},e.id):Object(L.jsx)("div",{},e.id)})),Object(L.jsxs)("div",{className:"friend-list",children:[s,Object(L.jsx)("img",{alt:"add icon",className:"addIcon",src:"https://api.iconify.design/akar-icons/circle-plus.svg",onClick:function(){return t.setState({popupOpened:!0})}}),Object(L.jsx)(Ze.a,{open:this.state.popupOpened,onClose:function(){return t.setState({popupOpened:!1})},closeOnDocumentClick:!0,children:Object(L.jsxs)("div",{className:"popup",children:[Object(L.jsx)("label",{children:"All Users"}),Object(L.jsx)("img",{alt:"close icon",className:"popup-close",src:"https://api.iconify.design/eva/close-circle-outline.svg",width:"30",height:"30",onClick:function(){return t.setState({popupOpened:!1})}}),Object(L.jsx)(at,{placeholder:"Search...",data:this.state.userList,onFilteredUsers:this.onFilteredUsers}),e]})})]})}}]),s}(p.a.Component),ot=s(18),lt=s(64),dt=s.n(lt),ut=function(e){var t=new Date(e);return t=dt()(t).format("LT")},jt=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){return Object(Ge.a)(this,s),t.apply(this,arguments)}return Object(Je.a)(s,[{key:"render",value:function(){return this.props.ownMessage?Object(L.jsxs)("li",{children:[Object(L.jsxs)("div",{className:"messagesBlockReversed",children:[Object(L.jsx)("div",{className:"messageProfileReversed",children:Object(L.jsx)("div",{className:"avatar-div",children:Object(L.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:T,alt:"avatar"})})}),Object(L.jsx)("div",{className:"messageBodyReversed",children:Object(L.jsx)("p",{children:this.props.message.message})})]}),Object(L.jsx)("span",{className:"createdTimeReversed",children:ut(this.props.message.created_at)})]},this.props.index):Object(L.jsxs)("li",{children:[Object(L.jsxs)("div",{className:"messagesBlock",children:[Object(L.jsx)("div",{className:"messageProfile",children:Object(L.jsx)("div",{className:"avatar-div",children:Object(L.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:T,alt:"avatar"})})}),Object(L.jsx)("div",{className:"messageBody",children:Object(L.jsx)("p",{children:this.props.message.message})})]}),Object(L.jsx)("span",{className:"createdTime",children:ut(this.props.message.created_at)})]},this.props.index)}}]),s}(p.a.Component),pt=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){return Object(Ge.a)(this,s),t.apply(this,arguments)}return Object(Je.a)(s,[{key:"render",value:function(){return Object(L.jsx)("div",{className:"createdDate",children:Object(L.jsx)("div",{className:"createdDateChild",children:this.props.message.date})})}}]),s}(p.a.Component),mt=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){return Object(Ge.a)(this,s),t.apply(this,arguments)}return Object(Je.a)(s,[{key:"render",value:function(){return Object(L.jsxs)("div",{className:"endChat",children:[Object(L.jsxs)("div",{className:"endChatProfile",children:[Object(L.jsx)("div",{className:"avatar-div endChatAvatar",children:Object(L.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:T,alt:"avatar"})}),Object(L.jsx)("h4",{children:this.props.user.username})]}),Object(L.jsxs)("div",{className:"endChatChild",children:["Friend since"," ",dt()(this.props.user.created).format("YYYY-MM-DD")]})]})}}]),s}(p.a.Component);function ht(e){var t=function(e){return e.reduce((function(e,t){var s=dt()(t.created_at).format("YYYY-MM-DD");return e[s]?Object(i.a)(Object(i.a)({},e),{},Object(ot.a)({},s,e[s].concat([t]))):Object(i.a)(Object(i.a)({},e),{},Object(ot.a)({},s,[t]))}),{})}(e);return Object.keys(t).sort((function(e,t){return dt()(t,"YYYY-MM-DD").unix()-dt()(e,"YYYY-MM-DD").unix()})).reduce((function(e,s){var a=t[s].sort((function(e,t){return+new Date(t.created_at)-+new Date(e.created_at)}));return e.concat([].concat(Object(He.a)(a),[{type:"date",date:s,id:s}]))}),[])}var bt=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){return Object(Ge.a)(this,s),t.apply(this,arguments)}return Object(Je.a)(s,[{key:"render",value:function(){var e=this,t=ht(this.props.messages).map((function(t,s){return"date"===t.type?Object(L.jsx)(pt,{message:t},s):Object(L.jsx)(jt,{message:t,user:t.sender===e.props.friend.username?e.props.friend:e.props.user,ownMessage:t.sender===e.props.user.username},s)}));return this.props.endOfChat&&t.push(Object(L.jsx)(mt,{user:this.props.friend},t.length)),Object(L.jsx)("div",{className:"messages",children:Object(L.jsx)("div",{className:"messages-list",id:"messages-list-scrolling",children:t})})}}]),s}(j.Component),ft=function(){var e=document.getElementById("message-input-box");e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")},Ot=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){var e;Object(Ge.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={input_value:""},e.send=function(t){t.preventDefault(),e.state.input_value&&""!==e.state.input_value&&(e.props.onSendMessage(e.props.friend,e.state.input_value),e.setState({input_value:""},ft))},e.handleInput=function(t){e.setState({input_value:t.target.value})},e}return Object(Je.a)(s,[{key:"render",value:function(){var e=this,t=document.getElementById("message-input-box"),s=document.getElementById("messages-input-form"),a=document.getElementById("messages-list-scrolling");return t&&s&&t.addEventListener("keypress",(function(t){if("Enter"===t.key&&!t.shiftKey)return e.send(t),!1})),a&&a.addEventListener("wheel",(function(){a.scrollTop<=a.offsetHeight-a.scrollHeight+5&&e.props.onScrollTop()})),Object(L.jsxs)("div",{className:"messages-panel",children:[this.props.friend&&this.props.messages?Object(L.jsx)(bt,{user:this.props.user,friend:this.props.friend,messages:this.props.messages,endOfChat:this.props.endOfChat}):Object(L.jsx)("div",{}),Object(L.jsx)("div",{className:"messages-input-wrapper",children:this.props.friend.id&&Object(L.jsxs)("form",{className:"messages-input",id:"messages-input-form",onSubmit:this.send,children:[Object(L.jsx)("textarea",{id:"message-input-box",className:"singleEdit form-control z-depth-1",onInput:function(t){e.handleInput(t),q(t)},value:this.state.input_value,rows:this.state.input_value.length/30,maxLength:500,placeholder:"Your Messages Here..."}),""!==this.state.input_value&&Object(L.jsx)("button",{id:"message-input-submit-button",type:"submit",children:"Send"})]})})]})}}]),s}(p.a.Component);function xt(e,t){setTimeout((function(){1!==e.readyState?xt(e,t):void 0!==t&&t()}),5)}var gt=function(e){Object(Ke.a)(s,e);var t=Object(Xe.a)(s);function s(){var e;Object(Ge.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).client=void 0,e.state={friend:Object(),friends:[],messages:[],room:"",user:Object(),isLoggedIn:!1,popupOpened:!1,messageQuery:0,onMessageQuery:!1,endOfChat:!1},e.onSendMessage=function(t,s){e.client.send(JSON.stringify({type:"message",time:Date.now(),message:s,sender:e.state.user.username,receiver:t.username}))},e.onFriendSelect=function(t){var s=e.state.friends.find((function(e){return e.id===t})),a=[s.username,e.state.user.username];a.sort(),a.splice(1,0,"+"),a=Y(a.join("")),e.state.room!==a&&(e.client&&e.client.close(),e.setState({room:a,friend:s,messages:[],endOfChat:!1,onMessageQuery:!1}))},e.onManageFriend=function(){e.setState({popupOpened:!e.state.popupOpened})},e.onScrollTop=function(){e.state.onMessageQuery||e.state.endOfChat||!e.state.room||e.setState({messageQuery:e.state.messageQuery+10},e.onQueryNewMessageHistory)},e.onQueryNewMessageHistory=function(){e.client.send(JSON.stringify({type:"command",time:Date.now(),message:"fetch_message",message_query:e.state.messageQuery,sender:e.state.user.username,receiver:e.state.friend.username}))},e}return Object(Je.a)(s,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("refresh_token")||window.location.replace("#/login"),X.get("/user/").then((function(t){e.setState({user:t.data[0]})})).catch((function(e){console.log(e.response)})),X.get("/friends/").then((function(t){e.setState({friends:t.data})})).catch((function(e){console.log(e.response)}))}},{key:"componentDidUpdate",value:function(e,t){var s=this;t.room!==this.state.room&&(this.client=new Ve.w3cwebsocket("wss://".concat(A.split("/")[2],":443/ws/chat/").concat(this.state.room,"/")),this.client.onmessage=function(e){var t=JSON.parse(e.data);t.command&&"fetch_message"===t.command&&(s.setState((function(e){return{messages:[].concat(Object(He.a)(t.content),Object(He.a)(e.messages)),onMessageQuery:!1}})),t.end&&s.setState({endOfChat:!0})),t.message&&s.setState((function(e){return{messages:[t].concat(Object(He.a)(e.messages))}}))},xt(this.client,(function(){s.client.send(JSON.stringify({type:"command",time:Date.now(),message:"fetch_message",message_query:s.state.messageQuery,sender:s.state.user.username,receiver:s.state.friend.username}))})),this.setState({messageQuery:0})),t.messageQuery!==this.state.messageQuery&&this.setState({onMessageQuery:!0}),t.popupOpened!==this.state.popupOpened&&(document.getElementById("mainDiv").style.filter=this.state.popupOpened?"blur(5px)":"none")}},{key:"render",value:function(){return Object(L.jsxs)("div",{className:"chat-app",id:"chat-app-main",children:[Object(L.jsx)(rt,{friends:this.state.friends,currentUser:this.state.user,onSelectFriend:this.onFriendSelect,onManageFriend:this.onManageFriend}),Object(L.jsx)(Ot,{user:this.state.user,friend:this.state.friend,messages:this.state.messages,endOfChat:this.state.endOfChat,onScrollTop:this.onScrollTop,onSendMessage:this.onSendMessage})]})}}]),s}(p.a.Component);var vt=function(){return document.documentElement.style.setProperty("--animate-duration",".5s"),Object(L.jsxs)(l.a,{basename:"/",children:[Object(L.jsxs)("div",{className:"mainDiv",id:"mainDiv",children:[Object(L.jsx)(o.a,{}),Object(L.jsx)(z,{}),Object(L.jsx)(oe,{}),Object(L.jsxs)(d.c,{children:[Object(L.jsx)(d.a,{exact:!0,path:"/",children:Object(L.jsx)(je,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/about",children:Object(L.jsx)(ze,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/projects",children:Object(L.jsx)(_e,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/register",children:Object(L.jsx)(We,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/login",children:Object(L.jsx)(De,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/post/:id",render:function(e){return Object(L.jsx)(be,Object(i.a)({},e))}}),Object(L.jsx)(d.a,{exact:!0,path:"/posts",children:Object(L.jsx)(Ce,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/write",children:Object(L.jsx)(fe,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/settings",children:Object(L.jsx)(ie,{})}),Object(L.jsx)(d.a,{exact:!0,path:"/chat",children:Object(L.jsx)(gt,{})})]})]}),Object(L.jsx)(Qe,{})]})};c.a.render(Object(L.jsx)(a.a,{children:Object(L.jsx)(vt,{})}),document.getElementById("root"))}},[[578,1,2]]]);
//# sourceMappingURL=main.efbc068e.chunk.js.map