(this["webpackJsonppacketsss-web"]=this["webpackJsonppacketsss-web"]||[]).push([[0],{193:function(e,t,s){},194:function(e,t,s){},556:function(e,t,s){},559:function(e,t,s){},561:function(e,t,s){},562:function(e,t,s){},563:function(e,t,s){},564:function(e,t,s){},567:function(e,t,s){},568:function(e,t,s){},569:function(e,t,s){},570:function(e,t,s){},574:function(e,t,s){},575:function(e,t,s){},578:function(e,t,s){"use strict";s.r(t);var a=s(602),n=s(37),c=s.n(n),i=s(5),r=s(21),o=s.n(r),l=s(33),d=s(20),u=(s(193),s(7)),j=s(2),p=s.n(j),m=s(71),b=s(171),h=s(98),f=s(597),O=s(598),g=s(596),x=s(599),v=s(600),y=s(601),N=s(47),k=(s(194),s(17)),w=s.n(k),_=s(40),S=s(70),I=s.n(S),C=(s(213),s(164)),P=s.n(C),B=s(165),D=s.n(B),L=s.p+"static/media/defaultAvatar.a5cedf25.jpg",T=s(1),A="https://packetsss-django-backend.herokuapp.com",F=L;var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"password";return Object(i.a)(Object(i.a)({},e),{},{grant_type:t,client_id:"C1cGDN1IJHXnCzidp9HP6rR7pxxOGh8lztUn6riP"})};function M(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("expires_in"),V.defaults.headers.Authorization=""}function q(e){e.preventDefault()}function U(e){e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")}var R=1500;function z(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function Y(){var e=Object(d.f)().pathname;return Object(j.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function W(e){for(var t="0x",s=e.length,a=0;a<s;a++)t+=e.charCodeAt(a).toString(16);return t}function Q(e){return new Promise((function(t){D.a.imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"blob",200,200)}))}function H(){return Object(T.jsx)(P.a,{style:{position:"relative",zIndex:-999},params:{particles:{color:{value:"#000000"},collisions:{enable:!0},number:{value:300,density:{enable:!0,value_area:2500}},line_linked:{enable:!1,opacity:.03},move:{direction:"none",outMode:"bounce",random:!0,speed:1},size:{random:!0,value:2},opacity:{anim:{enable:!0,speed:1,opacity_min:.05}}},interactivity:{detect_on:"window",events:{onclick:{enable:!0,mode:"push"}},modes:{push:{particles_nb:1}}},retina_detect:!0}})}var G=I.a.create({baseURL:A,timeout:15e3,headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),"Content-Type":"application/json",accept:"application/json"}});var J=!1,K=[],X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;K.forEach((function(s){e?s.reject(e):s.resolve(t)})),K=[]};G.interceptors.response.use((function(e){return e}),function(){var e=Object(_.a)(w.a.mark((function e(t){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.config,"undefined"!==typeof t.response){e.next=5;break}return"true"!==localStorage.getItem("alerted")&&(alert(t+"\nBackend server is probably unavailable right now.\n\nPlease contact Packetsss for further assistance:\nhttps://github.com/packetsss"),localStorage.setItem("alerted","true"),setTimeout((function(){localStorage.removeItem("alerted")}),2e4)),e.abrupt("return",Promise.reject(t));case 5:if(401!==t.response.status||s._retry){e.next=11;break}if(!J){e.next=8;break}return e.abrupt("return",new Promise((function(e,t){K.push({resolve:e,reject:t})})).then((function(e){return s.headers.Authorization="Bearer "+e,I()(s)})).catch((function(e){return Promise.reject(e)})));case 8:return s._retry=!0,J=!0,e.abrupt("return",new Promise((function(e,t){var a;null===(a=G.defaults.headers)||void 0===a||delete a.Authorization,G.post("/auth/token/",E({refresh_token:localStorage.getItem("refresh_token")},"refresh_token")).then((function(t){var a,n,c;a=t.data.access_token,n=t.data.refresh_token,c=t.data.expires_in,window.localStorage.setItem("access_token",a),window.localStorage.setItem("refresh_token",n),window.localStorage.setItem("expires_in",Math.ceil(Date.now()/1e3)+c),G.defaults.headers&&(G.defaults.headers.Authorization="Bearer "+localStorage.getItem("access_token")),s.headers.Authorization="Bearer ".concat(localStorage.getItem("access_token")),X(null,localStorage.getItem("access_token")),e(I()(s))})).catch((function(e){X(e,null),t(e)})).finally((function(){J=!1}))})));case 11:return e.abrupt("return",Promise.reject(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var V=G,Z=s(167),$=s.n(Z),ee=s(96),te=s(53),se=s(97),ae=s.n(se),ne=s(52);s(556);function ce(){r.store.addNotification({title:"Logout Success!",message:"You have successfully logged out",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}}),M(),setTimeout((function(){window.location.replace("#/"),window.location.reload()}),R)}function ie(){return(ie=Object(_.a)(w.a.mark((function e(t,s){var a,n,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=a.name,e.next=4,Q(a);case 4:c=e.sent,(i=new $.a).append("email",s.email),i.append("username",s.username),i.append("avatar",c,n),V.patch("/user/".concat(s.id,"/"),i,{headers:{"Content-Type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"}}).then((function(e){r.store.addNotification({title:"Profile Picture Update Success!",message:"You have successfully updated your avatar",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})})).catch((function(e){console.log(e.response),r.store.addNotification({title:"Profile Picture Update Failed!",message:e.response,type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})})).finally((function(){setTimeout((function(){return window.location.reload()}),R)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){var e=Object(T.jsx)(ne.a,{icon:te.a}),t=Object(T.jsx)(ne.a,{icon:te.b}),s=Object(j.useState)(!1),a=Object(u.a)(s,2),n=a[0],c=a[1];Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||(window.location.replace("#/login"),window.location.reload())})),Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&V.get("/user/").then((function(e){d(e.data[0])}))}),[]);var i=Object(j.useState)(),o=Object(u.a)(i,2),l=o[0],d=o[1],p=Object(j.useState)(),m=Object(u.a)(p,2),b=m[0],h=m[1],f=Object(j.useState)(0),O=Object(u.a)(f,2),x=O[0],v=O[1];return Object(T.jsxs)(g.a,{children:[Object(T.jsx)(H,{}),Object(T.jsx)(g.a,{className:"settings",children:Object(T.jsxs)("div",{className:"settingsWrapper",children:[Object(T.jsx)("div",{className:"settingsTitle",children:Object(T.jsx)("span",{className:"settingsTitleUpdate",children:"Update Your Account"})}),Object(T.jsxs)("form",{className:"settingsForm",onSubmit:function(e){var t,s;q(e),x>1?(t=l,s=b,console.log(t,s),V.patch("/user/".concat(t.id,"/"),{password:s}).then((function(e){r.store.addNotification({title:"Profile Update Success!",message:"You have successfully updated your profile",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})})).catch((function(e){console.log(e)})).finally((function(){setTimeout((function(){return window.location.reload()}),R)}))):r.store.addNotification({title:"Password Update Failed!",message:"The password is too weak",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:750,onScreen:!0}})},children:[Object(T.jsxs)("div",{className:"settingsPP",children:[l?Object(T.jsx)("img",{src:l.avatar?l.avatar:F,alt:""}):null,Object(T.jsxs)("label",{children:[Object(T.jsx)("input",{accept:"image/png, image/gif, image/jpeg",style:{display:"none"},multiple:!0,type:"file",onChange:function(e){!function(e,t){ie.apply(this,arguments)}(e,l)}}),Object(T.jsx)("i",{className:"settingsPPIcon far fa-user-circle"})]}),Object(T.jsx)("input",{id:"fileInput",type:"file",style:{display:"none"},className:"settingsPPInput"})]}),Object(T.jsx)("span",{className:"settingsDescribeField",children:"Username"}),Object(T.jsx)("span",{className:"settingsFixedField",children:l?l.username:null}),Object(T.jsx)("span",{className:"settingsDescribeField",children:"Email"}),Object(T.jsx)("span",{className:"settingsFixedField",children:l?l.email:null}),Object(T.jsx)("span",{className:"settingsDescribeField",children:"Password"}),Object(T.jsxs)("div",{className:"passwordWrapper",children:[Object(T.jsx)("input",{placeholder:"Password",type:n?"text":"password",name:"password",onChange:function(e){h(e.target.value)}}),Object(T.jsx)("i",{style:{color:n?"#000000":"#7a7a7a"},onClick:function(){c(!n)},children:n?e:t})]}),Object(T.jsx)(ae.a,{className:"settingsPasswordStrengthBar",scoreWordStyle:{textAlign:"left",paddingLeft:"5px"},password:b,minLength:8,shortScoreWord:"weak",onChangeScore:function(e){return v(e)}}),Object(T.jsx)("button",{className:"btn btn-secondary settingsSubmitButton",type:"submit",children:"Change Password"}),Object(T.jsx)("button",{className:"btn btn-warning settingsLogoutButton",onClick:ce,type:"button",children:"Logout"}),Object(T.jsx)("button",{className:"btn settingsDeleteAccountButton",onClick:function(){!function(e){Object(ee.confirmAlert)({title:"Confirm to delete",message:"Are you sure to delete you account? (WARNING: THIS ACTION IS NOT RECOVERABLE!)",buttons:[{label:"Yes",onClick:function(){V.delete("/user/".concat(e.id,"/")).then((function(e){M(),window.location.replace("#/login"),window.location.reload()}))}},{label:"No",onClick:function(){return null}}]})}(l)},type:"button",children:"Delete Account"})]})]})})]})}function oe(e){if(!localStorage.getItem("refresh_token"))return Object(T.jsx)(h.a,{href:"#/login",className:"fork-btn-inner",children:Object(T.jsx)(f.a,{children:Object(T.jsx)(O.a,{children:"Login Here"})})});var t=p.a.forwardRef((function(t,s){var a=t.onClick;t.value;return Object(T.jsx)("a",{href:"google.com",ref:s,onClick:function(e){e.preventDefault(),a(e)},children:e?Object(T.jsx)("div",{className:"settings-icon",children:Object(T.jsx)("img",{className:"settings-icon-avatar",src:e.avatar?e.avatar:F,alt:"avatar"})}):Object(T.jsx)("div",{})})})),s=p.a.forwardRef((function(t,s){t.onClick,t.value;return e?Object(T.jsxs)(g.a,{className:"dropdownIcon",children:[Object(T.jsx)("img",{className:"dropdownIconAvatar",src:e.avatar?e.avatar:F,alt:"avatar"}),Object(T.jsx)("br",{}),Object(T.jsx)("label",{className:"dropdownUser",children:e.username})]}):Object(T.jsx)("div",{})}));return Object(T.jsx)("div",{className:"loginDetectDiv",children:Object(T.jsxs)(x.a,{className:"profileDropdown",children:[Object(T.jsx)(x.a.Toggle,{as:t}),Object(T.jsxs)(x.a.Menu,{className:"profileDropdownMenu",children:[Object(T.jsx)(x.a.Item,{as:s}),Object(T.jsx)(x.a.Item,{href:"#/chat",children:"Messages"}),Object(T.jsx)(x.a.Item,{href:"#/settings",children:"Settings"}),Object(T.jsx)(x.a.Divider,{}),Object(T.jsx)(x.a.Item,{className:"profileDropdownMenuLogout",onClick:ce,children:"Logout"})]})]})})}function le(){var e=localStorage.getItem("refresh_token");Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&V.get("/user/").then((function(e){f(e.data[0])})).catch((function(e){console.log(e.response),console.log(e)}))}),[e]);var t=Object(j.useState)(!1),s=Object(u.a)(t,2),a=s[0],n=s[1],c=Object(j.useState)(!1),i=Object(u.a)(c,2),r=i[0],o=i[1],d=Object(j.useState)(),p=Object(u.a)(d,2),h=p[0],f=p[1],O=Object(j.useState)(!0),x=Object(u.a)(O,2),k=x[0],w=x[1];return Object(j.useEffect)((function(){var e;a?w(!1):(e=320,new Promise((function(t){return setTimeout(t,e)}))).then((function(){return w(!0)}))}),[a]),window.addEventListener("scroll",(function(){window.scrollY>=20?o(!0):o(!1)})),Object(T.jsx)("div",{className:"top",children:Object(T.jsx)(v.a,{expanded:a,fixed:"top",expand:"md",className:r?"sticky":"navbar",children:Object(T.jsxs)(g.a,{children:[Object(T.jsx)(v.a.Toggle,{"aria-controls":"responsive-navbar-nav",onClick:function(){!function(e,t,s){t(!e)}(a,n)}}),Object(T.jsxs)("div",{className:"top-clickable",children:[Object(T.jsx)("a",{"aria-label":"link",href:"https://github.com/packetsss",target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)("i",{className:"topIcon fab fa-github-square"})}),Object(T.jsx)("a",{"aria-label":"link",href:"https://www.linkedin.com/in/paul-pan001/",target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)("i",{className:"topIcon fab fa-linkedin"})}),Object(T.jsx)("a",{"aria-label":"link",href:"https://www.facebook.com/paul.pan.94849/",target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)("i",{className:"topIcon fab fa-facebook-square"})}),Object(T.jsx)("a",{"aria-label":"link",href:"https://twitter.com/pyj2001",target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)("i",{className:"topIcon fab fa-twitter-square"})}),Object(T.jsx)("a",{"aria-label":"link",href:"https://www.instagram.com/_popaz/",target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)("i",{className:"topIcon fab fa-instagram-square"})})]}),Object(T.jsx)(v.a.Collapse,{id:"responsive-navbar-nav",className:a?"navbar-collapse-show":"",children:Object(T.jsxs)(y.a,{defaultActiveKey:"#home",className:"navbar-items",children:[Object(T.jsx)(y.a.Item,{children:Object(T.jsxs)(y.a.Link,{as:l.b,to:"/",onClick:function(){return n(!1)},children:[Object(T.jsx)(N.f,{style:{marginBottom:"2px"}})," ","HOME"]})}),Object(T.jsx)(y.a.Item,{children:Object(T.jsxs)(y.a.Link,{as:l.b,to:"/about",onClick:function(){return n(!1)},children:[Object(T.jsx)(N.h,{style:{marginBottom:"2px"}})," ","ABOUT"]})}),Object(T.jsx)(y.a.Item,{children:Object(T.jsxs)(y.a.Link,{as:l.b,to:"/projects",onClick:function(){return n(!1)},children:[Object(T.jsx)(N.e,{style:{marginBottom:"2px"}})," ","PROJECTS"]})}),Object(T.jsx)(y.a.Item,{children:Object(T.jsxs)(y.a.Link,{as:l.b,to:"/posts",onClick:function(){return n(!1)},children:[Object(T.jsx)(b.a,{style:{marginBottom:"2px"}})," ","POSTS"]})}),Object(T.jsx)(y.a.Item,{children:Object(T.jsxs)(y.a.Link,{as:l.b,to:"/write",onClick:function(){return n(!1)},children:[Object(T.jsx)(m.a,{style:{marginBottom:"2px"}})," ","WRITE"]})})]})}),Object(T.jsx)(y.a.Item,{className:"fork-btn",children:Object(T.jsx)("div",{children:k&&oe(h)})})]})})})}s(559);var de=s(172),ue=s.n(de);function je(){return Object(T.jsx)(ue.a,{options:{strings:["Machine Learning Enthusiast","Web Developer","Banana Eater","Open Source Contributor","Game Developer"],autoStart:!0,loop:!0,deleteSpeed:50}})}function pe(){return Object(T.jsx)(g.a,{fluid:!0,className:"home",children:Object(T.jsxs)(g.a,{children:[Object(T.jsx)(H,{}),Object(T.jsxs)("div",{className:"homeTitles",children:[Object(T.jsx)("span",{className:"homeTitleLarge",children:"Hi there, I am Paul Pan"}),Object(T.jsx)("span",{className:"homeTitleSmall",children:Object(T.jsx)(je,{})})]})]})})}s(560),s(561);function me(){return(me=Object(_.a)(w.a.mark((function e(t,s){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(s),V.put("/api/posts/".concat(t,"/"),s).then((function(e){r.store.addNotification({title:"Edit Success!",message:"You've successfully updated your post",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t,s,a,n){return e?Object(T.jsx)("textarea",{required:!0,id:"".concat(a),className:"singleEdit form-control z-depth-1",onChange:function(e){t(e),U(e)},defaultValue:s,rows:s.length/n,maxLength:a,placeholder:"Please enter something at least..."}):s}function he(e,t,s,a){return(t||s)&&(a.title=t?t.target.value:a.title,a.content=s?s.target.value:a.content,function(e,t){me.apply(this,arguments)}(e,a)),[a.title,a.content]}function fe(e){Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||window.location.replace("#/login"),V.get("/user/").then((function(e){v(e.data[0])})).catch((function(e){return console.log(e)})),V.get("/api/posts/".concat(e.match.params.id)).then((function(e){w(e.data)})).catch((function(e){return console.log(e)}))}),[e.match.params.id]);var t=Object(j.useState)(!1),s=Object(u.a)(t,2),a=s[0],n=s[1],c=Object(j.useState)(),i=Object(u.a)(c,2),r=i[0],o=i[1],l=Object(j.useState)(),d=Object(u.a)(l,2),p=d[0],m=d[1],b=Object(j.useState)(),h=Object(u.a)(b,2),x=h[0],v=h[1],y=Object(j.useState)(),N=Object(u.a)(y,2),k=N[0],w=N[1];return k&&x?Object(T.jsxs)(g.a,{fluid:!0,className:"single",children:[Object(T.jsx)(H,{}),Object(T.jsxs)(g.a,{className:"singlePostWrapper",children:[Object(T.jsx)(f.a,{children:Object(T.jsx)("img",{className:"singlePostImg",src:"https://picsum.photos/1400/400",alt:"post cover"})}),Object(T.jsxs)("form",{onSubmit:function(t){q(t),n(!a);var s=he(e.match.params.id,r,p,k),c=Object(u.a)(s,2);k.title=c[0],k.content=c[1]},children:[Object(T.jsxs)(f.a,{className:"singlePostTitle",children:[Object(T.jsx)(O.a,{className:"singlePostSpacer"}),Object(T.jsx)(O.a,{className:"col-md-8 singlePostTitleText",children:be(a,o,k.title,100,30)}),x.id===k.author?Object(T.jsx)(O.a,{className:"singlePostEdit",children:a?Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{"aria-label":"btn",type:"submit",className:"singlePostIcon far fa-check-square"}),Object(T.jsx)("i",{className:"singlePostIcon far fa-window-close",onClick:function(){return n(!a)}})]}):Object(T.jsxs)("div",{children:[Object(T.jsx)("i",{className:"singlePostIcon far fa-edit",onClick:function(){return n(!a)}}),Object(T.jsx)("i",{className:"singlePostIcon far fa-trash-alt",onClick:function(){return function(e){Object(ee.confirmAlert)({title:"Confirm to delete",message:"Are you sure to delete this post?",buttons:[{label:"Yes",onClick:function(){V.delete("/api/posts/".concat(e.match.params.id,"/")).then((function(e){window.location.replace("#/posts"),window.location.reload()}))}},{label:"No",onClick:function(){return null}}]})}(e)}})]})}):Object(T.jsx)(O.a,{className:"singlePostSpacer"})]}),Object(T.jsxs)(O.a,{className:"singlePostInfo",children:[Object(T.jsxs)(f.a,{className:"singlePostAuthor",children:["Author:\xa0",Object(T.jsx)("b",{children:k.author_name})]}),Object(T.jsx)(f.a,{className:"singlePostDate",children:z(k.date)})]}),Object(T.jsx)(O.a,{children:Object(T.jsxs)("p",{className:"singlePostDesc",children:["\u2003",be(a,m,k.content,777,80)]})})]})]})]}):Object(T.jsx)("div",{})}s(562);function Oe(){var e=Object(j.useState)(),t=Object(u.a)(e,2),s=t[0],a=t[1],n=Object(j.useState)(),c=Object(u.a)(n,2),i=c[0],o=c[1],l=Object(j.useState)(),d=Object(u.a)(l,2),p=d[0],m=d[1],b=Object(j.useState)(-1),h=Object(u.a)(b,2),f=h[0],O=h[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||(window.location.replace("#/login"),window.location.reload()),-1!==f&&setTimeout((function(){window.location.replace("#/post/".concat(f))}),R),V.get("user/").then((function(e){a(e.data[0])})).catch((function(e){return console.log(e)}))}),[f]),s?Object(T.jsxs)(g.a,{className:"write",children:[Object(T.jsx)(H,{}),Object(T.jsx)("img",{className:"writeImg",src:"https://picsum.photos/1200/400",alt:""}),Object(T.jsxs)("form",{className:"writeForm",onSubmit:function(e){var t;q(e),t={title:i.target.value,content:p.target.value,author:s.id,author_name:s.username},console.log(t),V.post("/api/posts/",t).then((function(e){r.store.addNotification({title:"Publish Success!",message:"Congratulations on completing this post",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}}),O(e.data.id)})).catch((function(e){r.store.addNotification({title:"Publish Success!",message:"Congratulations on completing this post",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})}))},children:[Object(T.jsxs)("div",{className:"writeFormGroup",children:[Object(T.jsx)("label",{htmlFor:"fileInput",children:Object(T.jsx)("i",{className:"writeIcon fas fa-plus"})}),Object(T.jsx)("input",{"aria-label":"input1",id:"fileInput",type:"file"}),Object(T.jsx)("input",{required:!0,className:"writeInput",placeholder:"Title",type:"text",autoFocus:!0,onChange:o,maxLength:100})]}),Object(T.jsx)("div",{className:"writeFormGroup",children:Object(T.jsx)("textarea",{required:!0,className:"writeInput writeText",placeholder:"Tell your story...",autoFocus:!0,onChange:m,maxLength:777})}),Object(T.jsx)("button",{className:"writeSubmit",type:"submit",children:"Publish"})]})]}):Object(T.jsx)("div",{})}s(563);var ge=s(54),xe=s(173);function ve(e){return Object(T.jsxs)(ge.a,{className:"project-card-view",children:[Object(T.jsx)(ge.a.Img,{variant:"top",src:e.imgPath,alt:"card-img"}),Object(T.jsxs)(ge.a.Body,{children:[Object(T.jsx)(ge.a.Title,{children:e.title}),Object(T.jsx)(ge.a.Text,{style:{textAlign:"justify",fontFamily:"Varela Round",fontSize:"15px"},children:e.description}),Object(T.jsx)("br",{}),Object(T.jsxs)(h.a,{variant:"primary",href:e.link?e.link:e.clickAble?e.clickAble.link:"",target:"_blank",style:{position:"absolute",bottom:12},children:[Object(T.jsx)(xe.a,{})," \xa0",e.link?e.isBlog?"View Blog":"View Project":e.clickAble?e.clickAble.text:""]})]})]})}var ye=s.p+"static/media/pool_kick.1dda2452.gif",Ne=s.p+"static/media/pool_solver.2e12cba6.gif",ke=s.p+"static/media/chatbot.8e9e433d.jpg",we=s.p+"static/media/image_editor.3eb63aae.gif",_e=s.p+"static/media/sudoku.08887751.gif";function Se(){return Object(T.jsxs)(g.a,{fluid:!0,className:"project-section",children:[Object(T.jsx)(H,{}),Object(T.jsxs)(g.a,{children:[Object(T.jsxs)("h1",{className:"project-heading",children:["My Recent ",Object(T.jsx)("strong",{className:"purple",children:"Works "})]}),Object(T.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"10px"},children:[Object(T.jsx)(O.a,{md:4,className:"project-card",children:Object(T.jsx)(ve,{imgPath:Ne,isBlog:!1,title:"Pool Game Solver",description:"A realistic pool game simulator built using pygame and pymunk with extra support for reinforcement learning model training. The genetic algorithm (GA) was implemented to solve the pool game environment.",link:"https://github.com/packetsss/youtube-projects/tree/main/pool-game"})}),Object(T.jsx)(O.a,{md:4,className:"project-card",children:Object(T.jsx)(ve,{imgPath:ke,isBlog:!1,title:"Discord Bot",description:"A Chat bot deployed in Packetsss's discord server that is capable of doing conversation, translation, summarization , text generation, image classification, image generation and etc. Created using discord.py and pre-trained transformer models.\xa0\xa0",clickAble:{text:"Join Here",link:"https://discord.gg/nDKKffMMjB"}})}),Object(T.jsx)(O.a,{md:4,className:"project-card",children:Object(T.jsx)(ve,{imgPath:ye,isBlog:!1,title:"AI Pool Assist",description:"An AI using computer vision and object detection as table and billiard ball locator, and visualizing aiming path for pool cue and balls. A search algorithm is implemented to find the best shot for the current player.",link:"https://github.com/packetsss/pool-player"})}),Object(T.jsx)(O.a,{md:4,className:"project-card",children:Object(T.jsx)(ve,{imgPath:we,isBlog:!1,title:"Image Editor",description:"A Image Editor that provides useful editing features such as crop, rotate, change brightness, auto sharpen, auto bypass censorship, face detection, and etc.",link:"https://github.com/packetsss/Image-Editor"})}),Object(T.jsx)(O.a,{md:4,className:"project-card",children:Object(T.jsx)(ve,{imgPath:_e,isBlog:!1,title:"Sudoku Solver",description:"A Sudoku Solver using back tracking and additional optimizations that solves any Sudoku puzzles in 2 seconds. A GUI is also implemented as a ease of use.",link:"https://github.com/packetsss/Sudoku-Solver"})})]})]})]})}s(564);function Ie(e){var t,s,a=(t=200,s=800,Math.floor(Math.random()*(s-t)+t));return e.post?Object(T.jsxs)("div",{className:"post",children:[Object(T.jsxs)(l.b,{to:"/post/".concat(e.post.id),style:{textDecoration:"none",color:"black"},children:[Object(T.jsx)("img",{className:"postImg",src:"https://picsum.photos/".concat(a),alt:""}),Object(T.jsxs)("div",{className:"postInfo",children:[Object(T.jsx)("div",{className:"postCategories"}),Object(T.jsx)("span",{className:"postTitle",children:e.post.title.length<18?e.post.title:e.post.title.slice(0,18)+"..."}),Object(T.jsx)("span",{className:"postDate",children:z(e.post.date)})]})]}),Object(T.jsx)("p",{className:"postDesc",children:e.post.content.length<30?e.post.content:e.post.content.slice(0,30)})]}):null}function Ce(e){try{return e.map((function(e){return Object(T.jsx)(O.a,{children:Object(T.jsx)(Ie,{post:e})},e.id)}))}catch(t){return M()}}function Pe(){var e=Object(j.useState)([]),t=Object(u.a)(e,2),s=t[0],a=t[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")||(window.location.replace("#/login"),window.location.reload()),V.get("/api/posts/").then((function(e){a(e.data)})).catch((function(e){return console.log(e)}))}),[]),s?Object(T.jsxs)(g.a,{className:"posts",children:[Object(T.jsx)(H,{}),Ce(s)]}):Object(T.jsx)(g.a,{})}s(565),s(566),s(567);var Be=I.a.create({baseURL:A,timeout:15e3,headers:{"Content-Type":"application/json",accept:"application/json"}});function De(){return(De=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Be.post("/auth/token/",E(t)).then((function(e){r.store.addNotification({title:"Login Success!",message:"Welcome",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}}),window.localStorage.setItem("access_token",e.data.access_token),window.localStorage.setItem("refresh_token",e.data.refresh_token),window.localStorage.setItem("expires_in",Math.ceil(Date.now()/1e3)+e.data.expires_in),setTimeout((function(){window.location.replace("#/posts"),window.location.reload()}),R)})).catch((function(e){r.store.addNotification({title:"Login Failed!",message:"Please check your username and password and try again",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){var e=Object(T.jsx)(ne.a,{icon:te.a}),t=Object(T.jsx)(ne.a,{icon:te.b}),s=Object(j.useState)(""),a=Object(u.a)(s,2),n=a[0],c=a[1],i=Object(j.useState)(""),r=Object(u.a)(i,2),o=r[0],d=r[1],p=Object(j.useState)(!1),m=Object(u.a)(p,2),b=m[0],h=m[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&window.location.replace("#/posts")}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)(H,{}),Object(T.jsxs)("div",{className:"login",children:[Object(T.jsx)("span",{className:"loginTitle",children:"Login"}),Object(T.jsxs)("form",{className:"loginForm",onSubmit:function(e){q(e),function(e){De.apply(this,arguments)}({username:n,password:o})},children:[Object(T.jsx)("label",{children:"Username"}),Object(T.jsx)("input",{required:!0,className:"loginInput",type:"text",placeholder:"Enter your username...",value:n,onChange:function(e){return c(e.target.value)}}),Object(T.jsx)("label",{children:"Password"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{required:!0,className:"loginInput",type:b?"text":"password",placeholder:"Enter your password...",value:o,onChange:function(e){return d(e.target.value)}}),Object(T.jsx)("i",{className:"eye",style:{color:b?"#000000":"#7a7a7a"},onClick:function(){h(!b)},children:b?e:t})]}),Object(T.jsx)("button",{type:"submit",className:"loginButton",children:"Login"})]}),Object(T.jsxs)("div",{style:{marginTop:"5px",fontSize:14,zIndex:0},children:["Don't have an account? ",Object(T.jsx)(l.b,{to:"/register",children:"Sign Up"})]})]})]})}s(568);var Te=s(177),Ae=s(63),Fe=s(106);function Ee(){return Object(T.jsx)(ge.a,{className:"quote-card-view",children:Object(T.jsx)(ge.a.Body,{children:Object(T.jsxs)("blockquote",{className:"blockquote mb-0",children:[Object(T.jsxs)("p",{style:{textAlign:"justify"},children:["A student at UC San Diego who love Machine Learning and always looking forward to learn new stuff.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Apart from coding, these are some other activities I enjoys doing!"]}),Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{className:"about-activity",children:[Object(T.jsx)(m.b,{})," Eating bananas"]}),Object(T.jsxs)("li",{className:"about-activity",children:[Object(T.jsx)(m.b,{})," Eating more bananas"]}),Object(T.jsxs)("li",{className:"about-activity",children:[Object(T.jsx)(m.b,{})," Eating even more bananas"]})]}),Object(T.jsx)("p",{style:{marginBlockEnd:0,color:"#be9656"},children:'"I also eat code. Beep. Beep"'}),Object(T.jsx)("footer",{className:"blockquote-footer",children:Object(T.jsx)("i",{style:{color:"#be9656"},children:"Packetsss"})}),Object(T.jsx)(Re,{})]})})})}function Me(){return Object(T.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"50px"},children:[Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Fe.b,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Fe.a,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Fe.c,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:numpy"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:pandas"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Ae.c,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Ae.d,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:opencv"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:openaigym"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:numba"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:qt"})})]})}function qe(){return Object(T.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"10px"},children:[Object(T.jsxs)("h1",{className:"project-heading",style:{paddingBottom:"20px"},children:["Total ",Object(T.jsx)("strong",{className:"purple",children:"Contributions"})]}),Object(T.jsx)(Te.a,{username:"packetsss",blockSize:20,blockMargin:3,theme:{background:"transparent",text:"#ffffff",level4:"#875503",level3:"#b07515",level2:"#dea549",level1:"#ffcd7d",level0:"#fff5e6"},fontSize:16})]})}function Ue(){return Object(T.jsxs)(f.a,{style:{justifyContent:"center",paddingBottom:"50px"},children:[Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Ae.b,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Ae.e,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)(Ae.a,{})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:git"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:docker"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:mysql"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:postman"})}),Object(T.jsx)(O.a,{xs:4,md:2,className:"tech-icons",children:Object(T.jsx)("span",{className:"iconify","data-icon":"simple-icons:heroku"})})]})}function Re(){var e=Object(j.useState)(0),t=Object(u.a)(e,2),s=t[0],a=t[1],n=Object(j.useState)("lol"),c=Object(u.a)(n,2),i=c[0],r=c[1];return Object(T.jsx)("div",{children:Object(T.jsx)("button",{onClick:function(){a(s+1),r(i+"ol")},className:"btn btn-success",children:0===s?i:"".concat(i," x ").concat(s)})})}var ze=s.p+"static/media/my_pic_2.22a009c7.gif";var Ye=function(){return Object(T.jsxs)(g.a,{fluid:!0,className:"about-section",children:[Object(T.jsx)(H,{}),Object(T.jsxs)(g.a,{children:[Object(T.jsxs)(f.a,{style:{justifyContent:"center",padding:"10px"},children:[Object(T.jsxs)(O.a,{md:7,style:{justifyContent:"center",paddingTop:"30px"},children:[Object(T.jsxs)("h1",{className:"headingOne",children:["Knowing Who ",Object(T.jsx)("strong",{className:"purple",children:"I AM"})]}),Object(T.jsx)(Ee,{})]}),Object(T.jsx)(O.a,{md:5,style:{paddingTop:"120px",paddingBottom:"50px"},className:"about-img",children:Object(T.jsx)("img",{src:ze,alt:"about",width:"300",className:"tech-icons"})})]}),Object(T.jsxs)("h1",{className:"project-heading",children:["Professional ",Object(T.jsx)("strong",{className:"purple",children:"Skillset "})]}),Object(T.jsx)(Me,{}),Object(T.jsxs)("h1",{className:"project-heading",children:["Development ",Object(T.jsx)("strong",{className:"purple",children:"Tools"})]}),Object(T.jsx)(Ue,{}),Object(T.jsx)(qe,{})]})]})};s(569);function We(){return(We=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Be.post("/user/",t).then((function(e){r.store.addNotification({title:"Register Success!",message:"Welcome",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated","animate__bounceIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}}),setTimeout((function(){window.location.replace("#/login")}),R)})).catch((function(e){r.store.addNotification({title:"Register Failed!",message:"The username/email is not available",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){var e=Object(j.useState)(""),t=Object(u.a)(e,2),s=t[0],a=t[1],n=Object(j.useState)(""),c=Object(u.a)(n,2),i=c[0],o=c[1],d=Object(j.useState)(""),p=Object(u.a)(d,2),m=p[0],b=p[1],h=Object(j.useState)(0),f=Object(u.a)(h,2),O=f[0],g=f[1],x=Object(T.jsx)(ne.a,{icon:te.a}),v=Object(T.jsx)(ne.a,{icon:te.b}),y=Object(j.useState)(!1),N=Object(u.a)(y,2),k=N[0],w=N[1];return Object(j.useEffect)((function(){localStorage.getItem("refresh_token")&&window.location.replace("#/posts")}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)(H,{}),Object(T.jsxs)("div",{className:"register",children:[Object(T.jsx)("span",{className:"registerTitle",children:"Register"}),Object(T.jsxs)("form",{className:"registerForm",onSubmit:function(e){O>1?(q(e),function(e){We.apply(this,arguments)}({username:s,email:i,password:m})):r.store.addNotification({title:"Register Failed!",message:"The password is too weak",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated","animate__shakeX"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:R,onScreen:!0}})},children:[Object(T.jsx)("label",{children:"*Username"}),Object(T.jsx)("input",{required:!0,className:"registerInput",type:"text",placeholder:"Enter your username...",value:s,onChange:function(e){return a(e.target.value)}}),Object(T.jsx)("label",{children:"*Email"}),Object(T.jsx)("input",{required:!0,type:"email",className:"registerInput",placeholder:"Enter your email...",value:i,onChange:function(e){return o(e.target.value)}}),Object(T.jsx)("label",{children:"*Password"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{required:!0,className:"registerInput",type:k?"text":"password",placeholder:"Enter your password...",value:m,onChange:function(e){return b(e.target.value)}}),Object(T.jsx)("i",{className:"eye",style:{color:k?"#000000":"#7a7a7a"},onClick:function(){w(!k)},children:k?x:v})]}),Object(T.jsx)(ae.a,{scoreWordStyle:{textAlign:"left",paddingLeft:"5px"},password:m,minLength:8,shortScoreWord:"weak",onChangeScore:function(e){return g(e)}}),Object(T.jsx)("button",{className:"registerButton",type:"submit",children:"Register"})]}),Object(T.jsxs)("div",{style:{marginTop:"5px",fontSize:14,zIndex:0},children:["Already have an account? ",Object(T.jsx)(l.b,{to:"/login",children:"Login"})]})]})]})}s(570);function He(){var e=(new Date).getFullYear();return Object(T.jsx)(g.a,{fluid:!0,className:"footer",children:Object(T.jsxs)(f.a,{children:[Object(T.jsx)(O.a,{md:"4",className:"footer-copyright",children:Object(T.jsx)("h3",{children:"Designed and Developed by Paul Pan"})}),Object(T.jsx)(O.a,{md:"4",className:"footer-copyright",children:Object(T.jsxs)("h3",{children:["Copyright \xa9 ",e," Packetsss"]})}),Object(T.jsx)(O.a,{md:"4",className:"footer-body",children:Object(T.jsxs)("ul",{className:"footer-icons",children:[Object(T.jsx)("li",{className:"social-icons",children:Object(T.jsx)("a",{"aria-label":"link",href:"https://github.com/packetsss",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)(N.b,{})})}),Object(T.jsx)("li",{className:"social-icons",children:Object(T.jsx)("a",{"aria-label":"link",href:"https://www.linkedin.com/in/paul-pan001/",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)(N.d,{})})}),Object(T.jsx)("li",{className:"social-icons",children:Object(T.jsx)("a",{"aria-label":"link",href:"https://www.facebook.com/paul.pan.94849/",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)(N.a,{})})}),Object(T.jsx)("li",{className:"social-icons",children:Object(T.jsx)("a",{"aria-label":"link",href:"https://twitter.com/pyj2001",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)(N.g,{})})}),Object(T.jsx)("li",{className:"social-icons",children:Object(T.jsx)("a",{"aria-label":"link",href:"https://www.instagram.com/_popaz/",style:{color:"white"},target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)(N.c,{})})})]})})]})})}var Ge=s(38),Je=s(27),Ke=s(28),Xe=s(30),Ve=s(29),Ze=s(124),$e=(s(574),s(174)),et=s(175),tt=s.n(et),st=s(176),at=s.n(st);s(575);function nt(e){var t=e.placeholder,s=e.data,a=e.onFilteredUsers,n=Object(j.useState)(""),c=Object(u.a)(n,2),i=c[0],r=c[1];return Object(T.jsx)("div",{className:"search",children:Object(T.jsxs)("div",{className:"searchInputs",children:[Object(T.jsx)("input",{type:"text",placeholder:t,value:i,onChange:function(e){var t=e.target.value;r(t);var n=s.filter((function(e){return e.username.toLowerCase().includes(t.toLowerCase())}));0===i.length&&""===t?a([],!0):a(n,!1)}}),Object(T.jsx)("div",{className:"searchIcon",children:0===i.length?Object(T.jsx)(tt.a,{}):Object(T.jsx)(at.a,{id:"clearBtn",onClick:function(){r(""),a([],!0)}})})]})})}var ct=function(e,t,s,a){return t?Object(T.jsx)("div",{className:"userButtons",onClick:function(){return null},children:Object(T.jsx)("label",{className:"text",children:"Friends"})}):s?Object(T.jsx)("div",{className:"userButtons",onClick:function(){return e.acceptFriendRequest(s.id)},children:Object(T.jsx)("label",{className:"text",children:"Accept Request"})}):a?Object(T.jsx)("div",{className:"userButtons addButton",onClick:function(){return e.addFriend(e.user.username)},children:Object(T.jsx)("label",{className:"text",children:"Request Sent"})}):Object(T.jsx)("div",{className:"userButtons addButton",onClick:function(){return e.addFriend(e.user.username)},children:Object(T.jsx)("label",{className:"text",children:"Add Friend"})})},it=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){return Object(Je.a)(this,s),t.apply(this,arguments)}return Object(Ke.a)(s,[{key:"render",value:function(){var e=this,t=void 0!==this.props.requestSentList.filter((function(t){return t.to_user===e.props.user.username}))[0],s=this.props.friendRequestList.filter((function(t){return t.from_user===e.props.user.username}))[0],a=void 0!==this.props.friendsList.filter((function(t){return t.username===e.props.user.username}))[0];return Object(T.jsxs)("div",{className:"allUser",children:[Object(T.jsx)("div",{className:"avatar-div",children:Object(T.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:F,alt:"avatar"})}),Object(T.jsx)("div",{className:"username",children:this.props.user.username}),Object(T.jsx)("span",{className:"my-spacer"}),Object(T.jsx)("div",{className:"userButtons blockButton",onClick:function(){return e.props.blockUser(e.props.user.username)},children:Object(T.jsx)("label",{className:"text",children:"Block"})}),ct(this.props,a,s,t)]})}}]),s}(p.a.Component),rt=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){var e;Object(Je.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).click=function(){e.props.onClick(e.props.id)},e}return Object(Ke.a)(s,[{key:"render",value:function(){return Object(T.jsxs)("div",{className:"friend-item",onClick:this.click,children:[Object(T.jsx)("div",{className:"avatar-div",children:Object(T.jsx)("img",{src:this.props.avatar?this.props.avatar:F,alt:"avatar"})}),Object(T.jsx)("div",{className:"friend-panel-name",children:this.props.name})]})}}]),s}(p.a.Component),ot=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){var e;Object(Je.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={userList:[],filteredUserList:[],friendRequestList:[],requestSentList:[],popupOpened:!1,emptySearch:!0},e.handleClick=function(t){e.props.onSelectFriend(t)},e.handleManage=function(t){e.props.onManageFriend()},e.addFriend=function(e){V.post("/friends/add_friend/",{to_user:e,message:"Friend Request"}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))},e.acceptFriendRequest=function(e){V.post("/friends/accept_request/",{id:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))},e.blockUser=function(){console.log("Block user")},e.onFilteredUsers=function(t,s){e.setState({filteredUserList:t,emptySearch:s})},e}return Object(Ke.a)(s,[{key:"componentDidMount",value:function(){var e=this;V.get("/user/",{params:{listAll:!0}}).then((function(t){e.setState({userList:t.data})})).catch((function(e){console.log(e.response)})),V.get("/friends/requests/").then((function(t){e.setState({friendRequestList:t.data})})).catch((function(e){console.log(e.response)})),V.get("/friends/sent_requests/").then((function(t){e.setState({requestSentList:t.data})})).catch((function(e){console.log(e.response)}))}},{key:"componentDidUpdate",value:function(e,t){t.popupOpened!==this.state.popupOpened&&this.props.onManageFriend()}},{key:"render",value:function(){var e,t=this,s=Object(T.jsx)("div",{className:"no-content-message",children:"There is no friends to show"});this.props.friends&&this.props.friends.map&&(s=this.props.friends.map((function(e){return Object(T.jsx)(rt,{id:e.id,name:e.username,avatar:e.avatar,onClick:t.handleClick},e.id)})));var a=this.state.userList;return(this.state.filteredUserList.length>0||!this.state.emptySearch)&&(a=this.state.filteredUserList),e=a.map((function(e){return e.username!==t.props.currentUser.username?Object(T.jsx)(it,{user:e,addFriend:t.addFriend,blockUser:t.blockUser,friendsList:t.props.friends,acceptFriendRequest:t.acceptFriendRequest,requestSentList:t.state.requestSentList,friendRequestList:t.state.friendRequestList},e.id):Object(T.jsx)("div",{},e.id)})),Object(T.jsxs)("div",{className:"friend-list",children:[s,Object(T.jsx)("img",{alt:"add icon",className:"addIcon",src:"https://api.iconify.design/akar-icons/circle-plus.svg",onClick:function(){return t.setState({popupOpened:!0})}}),Object(T.jsx)($e.a,{open:this.state.popupOpened,onClose:function(){return t.setState({popupOpened:!1})},closeOnDocumentClick:!0,children:Object(T.jsxs)("div",{className:"popup",children:[Object(T.jsx)("label",{children:"All Users"}),Object(T.jsx)("img",{alt:"close icon",className:"popup-close",src:"https://api.iconify.design/eva/close-circle-outline.svg",width:"30",height:"30",onClick:function(){return t.setState({popupOpened:!1})}}),Object(T.jsx)(nt,{placeholder:"Search...",data:this.state.userList,onFilteredUsers:this.onFilteredUsers}),e]})})]})}}]),s}(p.a.Component),lt=s(18),dt=s(64),ut=s.n(dt),jt=function(e){var t=new Date(e);return t=ut()(t).format("LT")},pt=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){return Object(Je.a)(this,s),t.apply(this,arguments)}return Object(Ke.a)(s,[{key:"render",value:function(){return this.props.ownMessage?Object(T.jsxs)("li",{children:[Object(T.jsxs)("div",{className:"messagesBlockReversed",children:[Object(T.jsx)("div",{className:"messageProfileReversed",children:Object(T.jsx)("div",{className:"avatar-div",children:Object(T.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:F,alt:"avatar"})})}),Object(T.jsx)("div",{className:"messageBodyReversed",children:Object(T.jsx)("p",{children:this.props.message.message})})]}),Object(T.jsx)("span",{className:"createdTimeReversed",children:jt(this.props.message.created_at)})]},this.props.index):Object(T.jsxs)("li",{children:[Object(T.jsxs)("div",{className:"messagesBlock",children:[Object(T.jsx)("div",{className:"messageProfile",children:Object(T.jsx)("div",{className:"avatar-div",children:Object(T.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:F,alt:"avatar"})})}),Object(T.jsx)("div",{className:"messageBody",children:Object(T.jsx)("p",{children:this.props.message.message})})]}),Object(T.jsx)("span",{className:"createdTime",children:jt(this.props.message.created_at)})]},this.props.index)}}]),s}(p.a.Component),mt=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){return Object(Je.a)(this,s),t.apply(this,arguments)}return Object(Ke.a)(s,[{key:"render",value:function(){return Object(T.jsx)("div",{className:"createdDate",children:Object(T.jsx)("div",{className:"createdDateChild",children:this.props.message.date})})}}]),s}(p.a.Component),bt=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){return Object(Je.a)(this,s),t.apply(this,arguments)}return Object(Ke.a)(s,[{key:"render",value:function(){return Object(T.jsxs)("div",{className:"endChat",children:[Object(T.jsxs)("div",{className:"endChatProfile",children:[Object(T.jsx)("div",{className:"avatar-div endChatAvatar",children:Object(T.jsx)("img",{src:this.props.user.avatar?this.props.user.avatar:F,alt:"avatar"})}),Object(T.jsx)("h4",{children:this.props.user.username})]}),Object(T.jsxs)("div",{className:"endChatChild",children:["Friend since"," ",ut()(this.props.user.created).format("YYYY-MM-DD")]})]})}}]),s}(p.a.Component);function ht(e){var t=function(e){return e.reduce((function(e,t){var s=ut()(t.created_at).format("YYYY-MM-DD");return e[s]?Object(i.a)(Object(i.a)({},e),{},Object(lt.a)({},s,e[s].concat([t]))):Object(i.a)(Object(i.a)({},e),{},Object(lt.a)({},s,[t]))}),{})}(e);return Object.keys(t).sort((function(e,t){return ut()(t,"YYYY-MM-DD").unix()-ut()(e,"YYYY-MM-DD").unix()})).reduce((function(e,s){var a=t[s].sort((function(e,t){return+new Date(t.created_at)-+new Date(e.created_at)}));return e.concat([].concat(Object(Ge.a)(a),[{type:"date",date:s,id:s}]))}),[])}var ft=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){return Object(Je.a)(this,s),t.apply(this,arguments)}return Object(Ke.a)(s,[{key:"render",value:function(){var e=this,t=ht(this.props.messages).map((function(t,s){return"date"===t.type?Object(T.jsx)(mt,{message:t},s):Object(T.jsx)(pt,{message:t,user:t.sender===e.props.friend.username?e.props.friend:e.props.user,ownMessage:t.sender===e.props.user.username},s)}));return this.props.endOfChat&&t.push(Object(T.jsx)(bt,{user:this.props.friend},t.length)),Object(T.jsx)("div",{className:"messages",children:Object(T.jsx)("div",{className:"messages-list",id:"messages-list-scrolling",children:t})})}}]),s}(j.Component),Ot=function(){var e=document.getElementById("message-input-box");e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")},gt=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){var e;Object(Je.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={input_value:""},e.send=function(t){t.preventDefault(),e.state.input_value&&""!==e.state.input_value&&(e.props.onSendMessage(e.props.friend,e.state.input_value),e.setState({input_value:""},Ot))},e.handleInput=function(t){e.setState({input_value:t.target.value})},e}return Object(Ke.a)(s,[{key:"render",value:function(){var e=this,t=document.getElementById("message-input-box"),s=document.getElementById("messages-input-form"),a=document.getElementById("messages-list-scrolling");return t&&s&&t.addEventListener("keypress",(function(t){if("Enter"===t.key&&!t.shiftKey)return e.send(t),!1})),a&&a.addEventListener("wheel",(function(){a.scrollTop<=a.offsetHeight-a.scrollHeight+5&&e.props.onScrollTop()})),Object(T.jsxs)("div",{className:"messages-panel",children:[this.props.friend&&this.props.messages?Object(T.jsx)(ft,{user:this.props.user,friend:this.props.friend,messages:this.props.messages,endOfChat:this.props.endOfChat}):Object(T.jsx)("div",{}),Object(T.jsx)("div",{className:"messages-input-wrapper",children:this.props.friend.id&&Object(T.jsxs)("form",{className:"messages-input",id:"messages-input-form",onSubmit:this.send,children:[Object(T.jsx)("textarea",{id:"message-input-box",className:"singleEdit form-control z-depth-1",onInput:function(t){e.handleInput(t),U(t)},value:this.state.input_value,rows:this.state.input_value.length/30,maxLength:500,placeholder:"Your Messages Here..."}),""!==this.state.input_value&&Object(T.jsx)("button",{id:"message-input-submit-button",type:"submit",children:"Send"})]})})]})}}]),s}(p.a.Component);function xt(e,t){setTimeout((function(){1!==e.readyState?xt(e,t):void 0!==t&&t()}),5)}var vt=function(e){Object(Xe.a)(s,e);var t=Object(Ve.a)(s);function s(){var e;Object(Je.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).client=void 0,e.state={friend:Object(),friends:[],messages:[],room:"",user:Object(),isLoggedIn:!1,popupOpened:!1,messageQuery:0,onMessageQuery:!1,endOfChat:!1},e.onSendMessage=function(t,s){e.client.send(JSON.stringify({type:"message",time:Date.now(),message:s,sender:e.state.user.username,receiver:t.username}))},e.onFriendSelect=function(t){var s=e.state.friends.find((function(e){return e.id===t})),a=[s.username,e.state.user.username];a.sort(),a.splice(1,0,"+"),a=W(a.join("")),e.state.room!==a&&(e.client&&e.client.close(),e.setState({room:a,friend:s,messages:[],endOfChat:!1,onMessageQuery:!1}))},e.onManageFriend=function(){e.setState({popupOpened:!e.state.popupOpened})},e.onScrollTop=function(){e.state.onMessageQuery||e.state.endOfChat||!e.state.room||e.setState({messageQuery:e.state.messageQuery+10},e.onQueryNewMessageHistory)},e.onQueryNewMessageHistory=function(){e.client.send(JSON.stringify({type:"command",time:Date.now(),message:"fetch_message",message_query:e.state.messageQuery,sender:e.state.user.username,receiver:e.state.friend.username}))},e}return Object(Ke.a)(s,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("refresh_token")||window.location.replace("#/login"),V.get("/user/").then((function(t){e.setState({user:t.data[0]})})).catch((function(e){console.log(e.response)})),V.get("/friends/").then((function(t){e.setState({friends:t.data})})).catch((function(e){console.log(e.response)}))}},{key:"componentDidUpdate",value:function(e,t){var s=this;t.room!==this.state.room&&(this.client=new Ze.w3cwebsocket("wss://".concat(A.split("/")[2],":443/ws/chat/").concat(this.state.room,"/")),this.client.onmessage=function(e){var t=JSON.parse(e.data);t.command&&"fetch_message"===t.command&&(s.setState((function(e){return{messages:[].concat(Object(Ge.a)(t.content),Object(Ge.a)(e.messages)),onMessageQuery:!1}})),t.end&&s.setState({endOfChat:!0})),t.message&&s.setState((function(e){return{messages:[t].concat(Object(Ge.a)(e.messages))}}))},xt(this.client,(function(){s.client.send(JSON.stringify({type:"command",time:Date.now(),message:"fetch_message",message_query:s.state.messageQuery,sender:s.state.user.username,receiver:s.state.friend.username}))})),this.setState({messageQuery:0})),t.messageQuery!==this.state.messageQuery&&this.setState({onMessageQuery:!0}),t.popupOpened!==this.state.popupOpened&&(document.getElementById("mainDiv").style.filter=this.state.popupOpened?"blur(5px)":"none")}},{key:"render",value:function(){return Object(T.jsxs)("div",{className:"chat-app",id:"chat-app-main",children:[Object(T.jsx)(ot,{friends:this.state.friends,currentUser:this.state.user,onSelectFriend:this.onFriendSelect,onManageFriend:this.onManageFriend}),Object(T.jsx)(gt,{user:this.state.user,friend:this.state.friend,messages:this.state.messages,endOfChat:this.state.endOfChat,onScrollTop:this.onScrollTop,onSendMessage:this.onSendMessage})]})}}]),s}(p.a.Component);var yt=function(){return document.documentElement.style.setProperty("--animate-duration",".5s"),Object(T.jsxs)(l.a,{basename:"/",children:[Object(T.jsxs)("div",{className:"mainDiv",id:"mainDiv",children:[Object(T.jsx)(o.a,{}),Object(T.jsx)(Y,{}),Object(T.jsx)(le,{}),Object(T.jsxs)(d.c,{children:[Object(T.jsx)(d.a,{exact:!0,path:"/",children:Object(T.jsx)(pe,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/about",children:Object(T.jsx)(Ye,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/projects",children:Object(T.jsx)(Se,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/register",children:Object(T.jsx)(Qe,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/login",children:Object(T.jsx)(Le,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/post/:id",render:function(e){return Object(T.jsx)(fe,Object(i.a)({},e))}}),Object(T.jsx)(d.a,{exact:!0,path:"/posts",children:Object(T.jsx)(Pe,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/write",children:Object(T.jsx)(Oe,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/settings",children:Object(T.jsx)(re,{})}),Object(T.jsx)(d.a,{exact:!0,path:"/chat",children:Object(T.jsx)(vt,{})})]})]}),Object(T.jsx)(He,{})]})};c.a.render(Object(T.jsx)(a.a,{children:Object(T.jsx)(yt,{})}),document.getElementById("root"))}},[[578,1,2]]]);
//# sourceMappingURL=main.1a457ef8.chunk.js.map